<body class="index" data-languages="[]">
<a href="#" id="nav-button">
<span>
        NAV
        <img alt="" src="images/navbar-cad8cdcb.png"/>
</span>
</a>
<div class="toc-wrapper">
<img alt="" class="logo" src="images/logo-0cf3f833.svg"/>
<ul class="toc-list-h1" id="toc">
<li>
<a class="toc-h1 toc-link" data-title="Introduction" href="#introduction">Introduction</a>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Getting Started" href="#getting-started">Getting Started</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="Authentication" href="#authentication">Authentication</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Requests &amp; Responses" href="#requests-amp-responses">Requests &amp; Responses</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Rate Limits" href="#rate-limits">Rate Limits</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="API Rate Limits" href="#api-rate-limits">API Rate Limits</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Webhook Subscription Limit" href="#webhook-subscription-limit">Webhook Subscription Limit</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Rate Limit Headers" href="#rate-limit-headers">Rate Limit Headers</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Data Model" href="#data-model">Data Model</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="Overview" href="#overview">Overview</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Default Fields" href="#default-fields">Default Fields</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Common Use Cases" href="#common-use-cases">Common Use Cases</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="Getting Field Values for All List Entries on a List" href="#getting-field-values-for-all-list-entries-on-a-list">Getting Field Values for All List Entries on a List</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Getting Field Value Changes for Status Fields" href="#getting-field-value-changes-for-status-fields">Getting Field Value Changes for Status Fields</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Getting the Strongest Relationship Strength Connection to an Organization on a List" href="#getting-the-strongest-relationship-strength-connection-to-an-organization-on-a-list">Getting the Strongest Relationship Strength Connection to an Organization on a List</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Useful Resources" href="#useful-resources">Useful Resources</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Partner With Us" href="#partner-with-us">Partner With Us</a>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Spacer" href="#spacer">Spacer</a>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Lists" href="#lists">Lists</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The List Resource" href="#the-list-resource">The List Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get All Lists" href="#get-all-lists">Get All Lists</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get a Specific List" href="#get-a-specific-list">Get a Specific List</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create a New List" href="#create-a-new-list">Create a New List</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="List Entries" href="#list-entries">List Entries</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The List Entry Resource" href="#the-list-entry-resource">The List Entry Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get All List Entries" href="#get-all-list-entries">Get All List Entries</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get a Specific List Entry" href="#get-a-specific-list-entry">Get a Specific List Entry</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create a New List Entry" href="#create-a-new-list-entry">Create a New List Entry</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Delete a Specific List Entry" href="#delete-a-specific-list-entry">Delete a Specific List Entry</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Fields" href="#fields">Fields</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Field Resource" href="#the-field-resource">The Field Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get Fields" href="#get-fields">Get Fields</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create Field" href="#create-field">Create Field</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Delete a Field" href="#delete-a-field">Delete a Field</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Field Values" href="#field-values">Field Values</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Field Value Resource" href="#the-field-value-resource">The Field Value Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get Field Values" href="#get-field-values">Get Field Values</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create a New Field Value" href="#create-a-new-field-value">Create a New Field Value</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Update a Field Value" href="#update-a-field-value">Update a Field Value</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Delete a Field Value" href="#delete-a-field-value">Delete a Field Value</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Field Value Changes" href="#field-value-changes">Field Value Changes</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="Supported field types" href="#supported-field-types">Supported field types</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="The Field Value Change Resource" href="#the-field-value-change-resource">The Field Value Change Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get Field Values Changes" href="#get-field-values-changes">Get Field Values Changes</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Persons" href="#persons">Persons</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Person Resource" href="#the-person-resource">The Person Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Search for Persons" href="#search-for-persons">Search for Persons</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get a Specific Person" href="#get-a-specific-person">Get a Specific Person</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create a New Person" href="#create-a-new-person">Create a New Person</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Update a person" href="#update-a-person">Update a person</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Delete a Person" href="#delete-a-person">Delete a Person</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get Global Person Fields" href="#get-global-person-fields">Get Global Person Fields</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Organizations" href="#organizations">Organizations</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Organization Resource" href="#the-organization-resource">The Organization Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Search for Organizations" href="#search-for-organizations">Search for Organizations</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get a Specific Organization" href="#get-a-specific-organization">Get a Specific Organization</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create a New Organization" href="#create-a-new-organization">Create a New Organization</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Update an Organization" href="#update-an-organization">Update an Organization</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Delete an Organization" href="#delete-an-organization">Delete an Organization</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get Global Organizations Fields" href="#get-global-organizations-fields">Get Global Organizations Fields</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Opportunities" href="#opportunities">Opportunities</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Opportunity Resource" href="#the-opportunity-resource">The Opportunity Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Search for Opportunities" href="#search-for-opportunities">Search for Opportunities</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get a Specific Opportunity" href="#get-a-specific-opportunity">Get a Specific Opportunity</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create a New Opportunity" href="#create-a-new-opportunity">Create a New Opportunity</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Update an Opportunity" href="#update-an-opportunity">Update an Opportunity</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Delete an Opportunity" href="#delete-an-opportunity">Delete an Opportunity</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Interactions" href="#interactions">Interactions</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Interactions Resource" href="#the-interactions-resource">The Interactions Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get All Interactions" href="#get-all-interactions">Get All Interactions</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get a Specific Interaction" href="#get-a-specific-interaction">Get a Specific Interaction</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create a New Interaction" href="#create-a-new-interaction">Create a New Interaction</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Update an Interaction" href="#update-an-interaction">Update an Interaction</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Delete an Interaction" href="#delete-an-interaction">Delete an Interaction</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Relationship Strengths" href="#relationship-strengths">Relationship Strengths</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Relationship Strength Resource" href="#the-relationship-strength-resource">The Relationship Strength Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get Relationship Strength" href="#get-relationship-strength">Get Relationship Strength</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Notes" href="#notes">Notes</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Note Resource" href="#the-note-resource">The Note Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get All Notes" href="#get-all-notes">Get All Notes</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get a Specific Note" href="#get-a-specific-note">Get a Specific Note</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create a New Note" href="#create-a-new-note">Create a New Note</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Update a Note" href="#update-a-note">Update a Note</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Delete a Note" href="#delete-a-note">Delete a Note</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Entity Files" href="#entity-files">Entity Files</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Entity File Resource" href="#the-entity-file-resource">The Entity File Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get All Files" href="#get-all-files">Get All Files</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get a Specific File" href="#get-a-specific-file">Get a Specific File</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Download File" href="#download-file">Download File</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Upload Files" href="#upload-files">Upload Files</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Reminders" href="#reminders">Reminders</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Reminder Resource" href="#the-reminder-resource">The Reminder Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get All Reminders" href="#get-all-reminders">Get All Reminders</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get a Specific Reminder" href="#get-a-specific-reminder">Get a Specific Reminder</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create a New Reminder" href="#create-a-new-reminder">Create a New Reminder</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Update a Reminder" href="#update-a-reminder">Update a Reminder</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Delete a Reminder" href="#delete-a-reminder">Delete a Reminder</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Webhooks" href="#webhooks">Webhooks</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Webhook Subscription Resource" href="#the-webhook-subscription-resource">The Webhook Subscription Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Supported Webhook Events" href="#supported-webhook-events">Supported Webhook Events</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get All Webhook Subscriptions" href="#get-all-webhook-subscriptions">Get All Webhook Subscriptions</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get a Specific Webhook Subscription" href="#get-a-specific-webhook-subscription">Get a Specific Webhook Subscription</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Create a New Webhook Subscription" href="#create-a-new-webhook-subscription">Create a New Webhook Subscription</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Update a Webhook Subscription" href="#update-a-webhook-subscription">Update a Webhook Subscription</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Delete a Specific Webhook Subscription" href="#delete-a-specific-webhook-subscription">Delete a Specific Webhook Subscription</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Whoami" href="#whoami">Whoami</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Whoami Resource" href="#the-whoami-resource">The Whoami Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get Whoami" href="#get-whoami">Get Whoami</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Rate Limit" href="#rate-limit">Rate Limit</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="The Rate Limit Resource" href="#the-rate-limit-resource">The Rate Limit Resource</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="Get Rate Limit Information" href="#get-rate-limit-information">Get Rate Limit Information</a>
</li>
</ul>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Spacer" href="#spacer">Spacer</a>
</li>
<li>
<a class="toc-h1 toc-link" data-title="Changelog" href="#changelog">Changelog</a>
<ul class="toc-list-h2">
<li>
<a class="toc-h2 toc-link" data-title="2025-11-05" href="#2025-11-05">2025-11-05</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2024-07-17" href="#2024-07-17">2024-07-17</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2024-05-01" href="#2024-05-01">2024-05-01</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-08-07" href="#2023-08-07">2023-08-07</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-07-27" href="#2023-07-27">2023-07-27</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-07-17" href="#2023-07-17">2023-07-17</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-07-03" href="#2023-07-03">2023-07-03</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-06-13" href="#2023-06-13">2023-06-13</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-05-17" href="#2023-05-17">2023-05-17</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-03-27" href="#2023-03-27">2023-03-27</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-03-09" href="#2023-03-09">2023-03-09</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-02-28" href="#2023-02-28">2023-02-28</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-02-10" href="#2023-02-10">2023-02-10</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-02-08" href="#2023-02-08">2023-02-08</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2023-02-07" href="#2023-02-07">2023-02-07</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2022-09-06" href="#2022-09-06">2022-09-06</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2022-09-02" href="#2022-09-02">2022-09-02</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2022-05-05" href="#2022-05-05">2022-05-05</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2022-04-11" href="#2022-04-11">2022-04-11</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2022-03-21" href="#2022-03-21">2022-03-21</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2022-02-23" href="#2022-02-23">2022-02-23</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2022-02-17" href="#2022-02-17">2022-02-17</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2022-02-03" href="#2022-02-03">2022-02-03</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2022-02-01" href="#2022-02-01">2022-02-01</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2022-01-28" href="#2022-01-28">2022-01-28</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2021-11-22" href="#2021-11-22">2021-11-22</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2021-11-19" href="#2021-11-19">2021-11-19</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2021-10-15" href="#2021-10-15">2021-10-15</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2021-10-04" href="#2021-10-04">2021-10-04</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2021-09-07" href="#2021-09-07">2021-09-07</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2021-08-18" href="#2021-08-18">2021-08-18</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2021-07-28" href="#2021-07-28">2021-07-28</a>
</li>
<li>
<a class="toc-h2 toc-link" data-title="2021-05-05" href="#2021-05-05">2021-05-05</a>
</li>
</ul>
</li>
</ul>
<div class="timestamp">

</div>
</div>
<div class="page-wrapper">
<div class="dark-box"></div>
<div class="content">
<h1 id="introduction">Introduction</h1>
<p>Welcome to the Affinity API! This API provides a RESTful interface for performing
operations on the different objects that make up Affinity. If you are trying to
accomplish an action through this API and are not sure on what endpoints to use, or
if you have ideas on more endpoints we could create to make your workflow easier,
please do not hesitate to contact us at <a href="support@affinity.co">support@affinity.co</a>.</p>
<h1 id="getting-started">Getting Started</h1><h2 id="authentication">Authentication</h2>
<blockquote>
<p>Authentication using HTTP Basic Auth.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/api_endpoint"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Authentication using HTTP Bearer Auth.</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/api_endpoint"</span> <span class="nt">-H</span> <span class="s2">"Authorization: Bearer </span><span class="k">${</span><span class="nv">APIKEY</span><span class="k">}</span><span class="s2">"</span>
</code></pre></div>
<p>To use the API, you will need to generate an API secret key. This can be done easily through
the Settings Panel that is accessible through the left sidebar on the Affinity web app. For more 
support, visit the <a href="https://support.affinity.co/hc/en-us/articles/360032633992-How-to-obtain-your-API-Key">How to obtain your API Key</a> 
article in our Help Center.</p>
<p>Requests are authenticated using one of the following:</p>
<table><thead>
<tr>
<th>Authentication Type</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td><a href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Auth</a></td>
<td>Provide your API key as the basic auth password. You do not need to provide a username.</td>
</tr>
<tr>
<td><a href="https://swagger.io/docs/specification/v3_0/authentication/bearer-authentication/">HTTP Bearer Auth</a></td>
<td>Provide your API key as the bearer token.</td>
</tr>
</tbody></table>
<p>Currently, we support one key per user on your team. Once you have generated a key, you
will need to pass in the key with every API request for us to process it successfully.
Otherwise, an error with a code of <code>401</code> will be returned.</p>
<aside class="notice">
<h6>Note</h6>
<p>Changes made through the API will be attributed to the person the API key is assigned to.</p>
</aside>
<h2 id="requests-amp-responses">Requests &amp; Responses</h2>
<p>This is a full-featured RESTful API. We provide reading &amp; writing functionality for each
object type in Affinity. All requests use the base URL of <code>https://api.affinity.co/</code>.</p>
<p>Responses to each request are provided as a JSON object. The response is either the data
requested, or a valid error message and error code as outlined below.</p>
<p>Here is a list of all the error codes the Affinity API returns in case something does not go as expected:</p>
<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is invalid.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden --  Insufficient rights to a resource.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- Requested resource does not exist.</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity -- Malformed parameters supplied. This can also happen in cases the parameters supplied logically cannot complete the request. In this case, an appropriate error message is delivered.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You have exceed the rate limit.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- This shouldn't generally happen. Either a deploy is in process, or Affinity services are down.</td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Note</h6>
<p>Requests must be sent over HTTPS. Requests sent over HTTP will not return any data in order to ensure your sensitive information remains secure.</p>
</aside>
<h1 id="rate-limits">Rate Limits</h1><h2 id="api-rate-limits">API Rate Limits</h2>
<p>The Affinity API sets a limit on the number of calls that a user can make per minute, and that all the users on an account can make per month. It also sets a reasonable limit on the number of concurrent requests it will support from an account at one time.</p>
<p>Requests to both Affinity API versions will count toward the one pool of requests allowed for a user or account. Once a per-minute, monthly, or concurrent rate limit is hit, subsequent requests will return an error code of 429. We highly recommend designing your application to handle 429 errors.</p>
<h3 id="monthly-limits-account-level">Monthly Limits (Account-Level)</h3>
<p>Your account plan tier will limit the overall number of requests you can make per month.
Current rate limits by plan tier are:</p>
<table><thead>
<tr>
<th>Plan Tier</th>
<th>Calls per month</th>
</tr>
</thead><tbody>
<tr>
<td>Essentials</td>
<td>None</td>
</tr>
<tr>
<td>Scale</td>
<td>100,000</td>
</tr>
<tr>
<td>Advanced</td>
<td>100,000</td>
</tr>
<tr>
<td>Enterprise</td>
<td>Unlimited*</td>
</tr>
<tr>
<td>Professional (Legacy)</td>
<td>None*</td>
</tr>
<tr>
<td>Premium (Legacy)</td>
<td>100,000</td>
</tr>
<tr>
<td>Enterprise (Legacy)</td>
<td>Unlimited*</td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Note</h6>
<p>Per-minute and concurrent request limits still apply to Enterprise-tier customers.</p>
</aside>
<aside class="notice">
<h6>Note</h6>
<p>Professional tier customers who signed up for Affinity before July 5, 2023 are alotted 40,000 calls per month.</p>
</aside>
<p>This monthly account-level limit resets at the end of each calendar month.</p>
<h3 id="per-minute-limits-user-level">Per Minute Limits (User-Level)</h3>
<p>All API requests will be halted at 900 per user, per minute. We may also lower this limit on a temporary basis to manage API availability.</p>
<aside class="notice">
<h6>Note</h6>
<p>Once a rate limit is hit, all further requests will return an error code of 429.</p>
</aside>
<h3 id="concurrent-request-limits-account-level">Concurrent Request Limits (Account-Level)</h3>
<p>To protect our systems and manage availability across customers, we set a reasonable limit on concurrent requests at the account level. Customers should not expect to hit this limit unless they are hitting the API with heavy operations from many concurrent threads at once.</p>
<h2 id="webhook-subscription-limit">Webhook Subscription Limit</h2>
<p>There is a limit of three webhook subscriptions per Affinity instance.</p>
<h2 id="rate-limit-headers">Rate Limit Headers</h2>
<p>Each external API call will include headers with information about monthly and per-minute limits. This is a convenient way to retrieve your rate limits and usage without needing to hit the <a href="#rate-limit"><code>/rate-limit</code></a> endpoint. Every API call will respond with the following headers:</p>
<table><thead>
<tr>
<th>Header</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>X-Ratelimit-Limit-User</td>
<td>Number of requests allowed per minute for the user</td>
</tr>
<tr>
<td>X-Ratelimit-Limit-User-Remaining</td>
<td>Number of requests remaining for the user</td>
</tr>
<tr>
<td>X-Ratelimit-Limit-User-Reset</td>
<td>Time in seconds before the limit resets for the user</td>
</tr>
<tr>
<td>X-Ratelimit-Limit-Org</td>
<td>Number of requests allowed per month for the organization</td>
</tr>
<tr>
<td>X-Ratelimit-Limit-Org-Remaining</td>
<td>Number of requests remaining for the organization</td>
</tr>
<tr>
<td>X-Ratelimit-Limit-Org-Reset</td>
<td>Time in seconds before the limit resets for the organization</td>
</tr>
</tbody></table>
<h1 id="data-model">Data Model</h1><h2 id="overview">Overview</h2>
<p>The three top-level objects in Affinity are Persons, Organizations, and Opportunities, and everything in the product is centered around these three resources. We refer to a data model that is a person, organization, or opportunity as an Entity.</p>
<p>The data stored in Affinity can be easily understood as a spreadsheet, with many rows, columns and cells. For each part of a spreadsheet, there are directly equivalent data models in Affinity.</p>
<p>The List view in Affinity represents the spreadsheet itself. A List is a collection of many rows, and the Affinity equivalent of a row is a <span class="list-entry">List Entry</span>. Each column in a spreadsheet is represented by a "Field". There are three types of Fields in Affinity: <span class="global-field">Global Fields</span>, <span class="list-specific-field">List-specific Fields</span> and Smart Fields.</p>
<p>The data in each cell is represented by a "Field Value". There are both regular <span class="field-value">Field Values</span> and <span class="smart-field-value">Smart Field Values</span>.</p>
<p><img class="crm-field-mappings" src="images/crm-field-mappings-47b2c3ba.png"/></p>
<div class="container-pills">
<div class="pill list-entry">List Entry</div>
<div class="pill global-field">Global Field</div>
<div class="pill list-specific-field">List-specific Field</div>
<div class="pill field-value">Field Value</div>
<div class="pill smart-field-value">Smart Field Value</div>
</div>
<aside class="notice">
<h6>Note</h6>
<p>When working with Affinity's API, it is important to understand the differences between how data is organized in the CRM versus the API.</p>
<p>Although Smart Fields show up as a column in the List, they <span class="bold">do not</span> exist in the API in the same way <span class="global-field">Global Fields</span> and <span class="list-specific-field">List-specific Fields</span> ones do.</p>
<p>To retrieve <span class="smart-field-value">Smart Field Values</span>, see the <a href="#retrieving-field-values">Retrieving Field Values</a> section.</p>
</aside>
<h2 id="default-fields">Default Fields</h2>
<p>By default, Affinity creates some fields for you automatically. Below are the fields created by type:</p>
<div class="container-table">
<div class="column">
<h3 class="global-field">Global Fields</h3>
<ul>
<li>Location</li>
<li>Industry</li>
<li>Job Titles</li>
<li>LinkedIn URL</li>
<li>Phone Number</li>
<li>Connections</li>
<li>Source of Introduction</li>
<li>Lists</li>
<li>Crunchbase Data</li>
<li>Affinity Data</li>
<li>Pitchbook Data</li>
</ul>
</div>
<div class="column">
<h3 class="smart-field-value">Smart Fields</h3>
<ul>
<li>First Email</li>
<li>Last Email</li>
<li>First Event (First Meeting)</li>
<li>Next Event (Next Meeting)</li>
<li>Last Event (Last Meeting)</li>
<li>Last Interaction</li>
<li>Date Added</li>
</ul>
</div>
<div class="column">
<h3 class="list-specific-field">List-specific Fields</h3>
<ul>
<li>Status</li>
<li>Owners</li>
<li>Amount</li>
</ul>
</div>
</div>
<h1 id="common-use-cases">Common Use Cases</h1>
<p>Use the common use cases below to learn how Affinity API endpoints work.</p>
<aside class="notice">
<h6>Helpful Tips</h6>
<ul>
<li>To reduce API calls, create any initial backfills with the REST API then use <a href="#webhooks">Webhooks</a> to keep data synced. You may want to schedule occasional syncs via the REST API to fixed any inconsistencies</li>
<li>Your instance may contain multiple fields with the same name (e.g. Last Funding Date). To confirm the field ID, manually make an edit to the field in question and inspect the request payload for the bulk request. The field ID will be listed as <code>entityAttributeId</code>
<img class="request-payload" src="images/request-payload-1136ff0a.png"/>
</li>
<li>The ID for a list, person, organization and opportunity can be found via the URL in the CRM. For a list <code>affinity.affinity.co/lists/[<span class="bold">list_id</span>]</code> and for a company profile <code>affinity.affinity.co/companies/[<span class="bold">company_id</span>]</code></li>
<li>For large lists, use <code>page_size</code> and <code>page_token</code> parameters in the <code><a href="#get-all-list-entries">GET /lists/list_id}/list-entries</a></code> endpoint to improve performance</li>
</ul>
</aside>
<h2 id="getting-field-values-for-all-list-entries-on-a-list">Getting Field Values for All List Entries on a List</h2>
<ol class="use-case">
<li>
<h3>1. Query <code><a href="#get-all-lists">GET /lists</a></code> to get all lists and filter results by list name to get the appropriate list ID</h3>
<pre>
<span>GET /lists Response:</span>
[
  {
    "id": <span class="bold">12058</span>,
    "type": 0,
    "name": "Current Prospects",
    "public": true,
    "owner_id": 477400,
    "list_size": 150
  }
  ...
]
</pre>
</li>
<li>
<h3>2. Query <code><a href="#get-all-list-entries">GET /lists/12058/list-entries</a></code> to get all list entries. Store the <code>entity_id</code> associated with each list entry ID</h3>
<pre>
<span>GET /lists/{list_id}/list-entries Response:</span>
[
  {
    "id": 37605676,
    "list_id": 113859,
    "creator_id": 63842761,
    "entity_id": <span class="bold">7133202</span>,
    "entity_type": 8,
    "created_at": "2021-09-12T16:29:15.962-07:00",
    "entity": {
      "id": 7133202,
      "name": "Affinity Opportunity"
    }
  }
  ...
]
</pre>
</li>
<li>
<h3>3. For each list entry, query <code><a href="#get-field-values">GET /field-values</a></code> with the <code>entity_id</code> from the previous step. Make sure you are passing <code>entity_id</code> through the appropriate parameter (e.g person_id)</h3>
<pre>
<span>GET /field-values Response:</span>
[
  {
    "id": 2448594830,
    "field_id": 61223,
    "list_entry_id": 37605676,
    "entity_type": 0,
    "value_type": 3,
    "entity_id": 7133202,
    "value": 5000.0
  }
  ...
]
</pre>
</li>
<li>
<h3>4. Locate field values for a given set of fields (optional)</h3>
<ol>
<li>Query <code><a href="#get-fields">GET /fields</a></code> to get all fields. If the given set of fields are all list-specific, it is helpful to pass along the <code>list_id</code> parameter to prefilter the results</li>
<li>Filter results of <code><a href="#get-fields">GET /fields</a></code> by field name to get the appropriate field ID</li>
<li>Cross-reference the <code>field_id</code> from Step 3 with the field ID</li>
</ol>
<pre>
<span>GET /fields Response:</span>
[
  {
    "id": <span class="bold">61223</span>,
    "name": "Amount",
    "list_id": 12058,
    "value_type": 3,
    "allows_multiple": false,
    "track_changes": true,
  }
  ...
]
</pre>
</li>
</ol>
<h2 id="getting-field-value-changes-for-status-fields">Getting Field Value Changes for Status Fields</h2>
<ol class="use-case">
<li>
<h3>1. Query <code><a href="#get-all-lists">GET /lists</a></code> and filter results to get the appropriate list ID</h3>
<pre>
<span>GET /lists Response:</span>
[
  {
    "id": <span class="bold">12058</span>,
    "type": 0,
    "name": "Current Prospects",
    "public": true,
    "owner_id": 477400,
    "list_size": 150
  }
  ...
]
</pre>
</li>
<li>
<h3>2. Locate the appropriate status field:</h3>
<ol>
<li>Query <code><a href="#get-fields">GET /fields</a></code> to get all fields. If the given set of fields are all list-specific, it is helpful to pass along the list_id parameter to prefilter the results</li>
<li>Filter results of <code><a href="#get-fields">GET /fields</a></code> by field name and cross-reference the <code>list_id</code> with the appropriate list ID from Step 1 to confirm you have the appropriate status field</li>
</ol>
<pre>
<span>GET /fields Response:</span>
[
  {
    "id": 61223,
    "name": "<span class="bold">Amount</span>",
    "list_id": <span class="bold">12058</span>,
    "value_type": 3,
    "allows_multiple": false,
    "track_changes": true,
  },
  ...
]
</pre>
</li>
<li>
<h3>3. Query <code><a href="#field-value-changes">GET /field-values-changes</a></code> passing in the <code>id</code> from Step 2</h3>
<pre>
<span>GET /field-values-changes Response:</span>
[
  {
    "id": 7,
    "entity_attribute_id": 106,
    "changer": {
        "id": 2,
        "type": 1,
        "first_name": "Alice",
        "last_name": "Doe",
        "primary_email": "alice@affinity.co",
        "emails": [
            "alice@affinity.co"
        ]
    },
    "changed_at": "2021-09-17T10:43:12.781-04:00",
    "action_type": 2,
    "list_entry_id": 15709964,
    "person": {
        "id": 2,
        "type": 1,
        "first_name": "John",
        "last_name": "Doe",
        "primary_email": "jdoe@alumni.stanford.edu",
        "emails": [
            "jdoe@alumni.stanford.edu"
        ]
    },
    "company": null,
    "opp": null,
    "value": {
        "id": 30,
        "text": "In Progress",
        "rank": 1,
        "color": 3
    },
    "entity_id": 38706,
    "field_id": <span class="bold">61223</span>
    }
  ...
]
</pre>
</li>
<li>
<h3>4. Filter results of <code><a href="#field-value-changes">GET /field-values-changes</a></code> (e.g.: If you only want status field changes for a specific organization in your list, search by the <code>list_entry_id</code>).</h3>
<pre>
<span>GET /field-values-changes Response:</span>
[
  {
    "id": 7,
    "entity_attribute_id": 106,
    "changer": {
        "id": 2,
        "type": 1,
        "first_name": "Alice",
        "last_name": "Doe",
        "primary_email": "alice@affinity.co",
        "emails": [
            "alice@affinity.co"
        ]
    },
    "changed_at": "2021-09-17T10:43:12.781-04:00",
    "action_type": 2,
    "list_entry_id": <span class="bold">15709964</span>,
    "person": {
        "id": 2,
        "type": 1,
        "first_name": "John",
        "last_name": "Doe",
        "primary_email": "jdoe@alumni.stanford.edu",
        "emails": [
            "jdoe@alumni.stanford.edu"
        ]
    },
    "company": null,
    "opp": null,
    "value": {
        "id": 30,
        "text": "In Progress",
        "rank": 1,
        "color": 3
    },
    "entity_id": 38706,
    "field_id": 61223
    }
  ...
]
</pre>
</li>
</ol>
<h2 id="getting-the-strongest-relationship-strength-connection-to-an-organization-on-a-list">Getting the Strongest Relationship Strength Connection to an Organization on a List</h2>
<ol class="use-case">
<li>
<h3>1. Query <code><a href="#get-all-lists">GET /lists</a></code> to get all lists and filter results to get the appropriate list ID</h3>
<pre>
<span>GET /lists Response:</span>
[
  {
    "id": <span class="bold">12058</span>,
    "type": 0,
    "name": "Current Prospects",
    "public": true,
    "owner_id": 477400,
    "list_size": 150
  }
  ...
]
</pre>
</li>
<li>
<h3>2. Query <code><a href="#get-all-list-entries">GET /lists/12058/list-entries</a></code> to get all list entries. Store the <code>entity_id</code> associated with each list entry ID</h3>
<pre>
<span>GET /lists/{list_id}/list-entries Response:</span>
[
  {
    "id": 37605676,
    "list_id": 12058,
    "creator_id": 63842761,
    "entity_id": <span class="bold">7133202</span>,
    "entity_type": 8,
    "created_at": "2021-09-12T16:29:15.962-07:00",
    "entity": {
      "id": 7133202,
      "name": "Affinity",
      "domain": "affinity.co",
      "domains": [
        "affinity.co"
      ],
      "crunchbase_uuid": null,
      "global": false
    }
  }
  ...
]
</pre>
</li>
<li>
<h3>3. For each list entry, query <code><a href="#get-a-specific-organization">GET /organizations/{organization_id}</a></code> to get all list people associated with the organization. Store the <code>person_ids</code> associated with each organization</h3>
<pre>
<span>GET /organizations/7133202 Response:</span>
{
  "id": 7133202,
  "name": "Affinity",
  "domain": "affinity.co",
  "domains": ["affinity.co"],
  "crunchbase_uuid": null,
  "global": false,
  "person_ids": [<span class="bold">89734, 117270, 138123, 274492, 304848, ...</span>],
  "list_entries": [
    {
      "id": 389,
      "list_id": 26,
      "creator_id": 38603,
      "entity_id": 7133202,
      "entity_type": 0,
      "created_at": "2020-12-11T02:26:56.537-08:00",
    }
    ...
  ]
}
</pre>
</li>
<li>
<h3>4. For each person ID from Step 3, query <code><a href="#fetch-a-relationship-strength">GET /relationships-strengths</a></code> passing in the person ID. Once all person IDs have been looped through, filter for the highest <code>strength</code></h3>
<pre>
<span>GET /relationships-strengths Response:</span>
[
  {
    "internal_id": 26317,
    "external_id": 89734,
    "strength": <span class="bold">0.5</span>
  }
  ...
]
</pre>
</li>
</ol>
<h2 id="useful-resources">Useful Resources</h2>
<ul>
<li><a href="/postman/collection.json" target="_blank">Postman Collection</a> (Right-click and save as JSON then import into <a href="https://www.postman.com/" target="_blank">Postman</a>)</li>
<li><a href="https://zapier.com/apps/affinity/integrations" target="_blank">Affinity Zapier Integrations</a></li>
<li><a href="https://tray.io/documentation/connectors/service/affinity" target="_blank">Affinity Tray Connectors</a></li>
</ul>
<h1 id="partner-with-us">Partner With Us</h1>
<p>If you're a developer interested in building an integration with Affinity's relationship intelligence platform for your customers, please <a href="https://53mt2d9of77.typeform.com/to/LhEs2tzU" target="_blank">get in touch here</a>.</p>
<h1 id="spacer">Spacer</h1><h1 id="lists">Lists</h1>
<p>Lists are the primary data structure that you can interact with in Affinity. Each list
manages a collection of either people, organizations or opportunities. We call people,
organizations and opportunities "entities".</p>
<p>A list in Affinity is easily represented as a spreadsheet. The rows of the spreadsheet
are the list entries, and each list entry corresponds to a single person in a list of
people, an organization in a list of organizations or an opportunity in a list of opportunities.</p>
<p>Lists in Affinity can also have any number of custom attributes. These attributes allow
you to fully customize your workflow and model the data for your use case. We call these
attributes "fields", and each fields represents a column in the
spreadsheet representation.</p>
<p>As a simple example:
A list called "Important People" might have 25 people in it. Two of the columns in the
sheet could be "Title" and "Industry".</p>
<p>This list would have 25 "list entries". Each list entry would be associated with a single
person entity. Furthermore, the list would have two "fields" with the names
"Title" and "Industry".</p>
<h2 id="the-list-resource">The List Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My List of People"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"public"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38901</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span><span class="w">
  </span><span class="nl">"additional_permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"internal_person_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the list object.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>The type of the entities (people, organizations, or opportunities) contained within the list. Each list only supports one entity type.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The title of the list that is displayed in Affinity.</td>
</tr>
<tr>
<td>public</td>
<td>boolean</td>
<td>When true, the list is publicly accessible to all users in your Affinity account. When false, the list is private to the list's owner and (explicitly set) additional users.</td>
</tr>
<tr>
<td>owner_id</td>
<td>integer</td>
<td>The unique ID of the internal person who owns the list. See <a href="https://support.affinity.co/hc/en-us/articles/360029432951-List-Level-Permissions">here</a> for permissions held by a list's owner.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>The unique ID of the internal person who created the list. If the list was created via API, this is the internal person corresponding to the API key that was used.</td>
</tr>
<tr>
<td>list_size</td>
<td>integer</td>
<td>The number of list entries contained within the list.</td>
</tr>
<tr>
<td>additional_permissions</td>
<td>object[]</td>
<td>The list of additional internal persons with permissions on the list. Should be a list of objects with <code>internal_person_id</code> and <code>role_id</code>, where <code>role_id</code> comes from the <a href="#list-level-roles">list-level roles</a> table below. See sample response to the right for expected shape.</td>
</tr>
</tbody></table>
<h3 id="list-types">List Types</h3>
<table><thead>
<tr>
<th>List Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person</td>
<td>0</td>
<td>Type specifying a list of people.</td>
</tr>
<tr>
<td>organization</td>
<td>1</td>
<td>Type specifying a list of organizations.</td>
</tr>
<tr>
<td>opportunity</td>
<td>8</td>
<td>Type specifying a list of opportunities.</td>
</tr>
</tbody></table>
<h3 id="list-level-roles">List-level Roles</h3>
<table><thead>
<tr>
<th>Role IDs</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>List-level "Admin" role</td>
</tr>
<tr>
<td>1</td>
<td>List-level "Basic" role</td>
</tr>
<tr>
<td>2</td>
<td>List-level "Standard" role</td>
</tr>
</tbody></table>
<p>See <a href="https://support.affinity.co/hc/en-us/articles/360029432951-List-Level-Permissions" target="_blank">here</a> for details on the permissions held by these roles.</p>
<h2 id="get-all-lists">Get All Lists</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Returns an array of all lists that you have access to.</span>
curl <span class="s2">"https://api.affinity.co/lists"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My List of People"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"public"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">383</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My List of Organizations"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"public"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /lists</code></p>
<p>Returns a collection of all the lists visible to you.</p>
<h3 id="parameters">Parameters</h3>
<p>None</p>
<h3 id="returns">Returns</h3>
<p>An array of all the list resources for lists visible to you. Each list resource in the
array includes the <code>id</code>, <code>name</code>, and <code>type</code> (refer to the
<a href="#the-list-resource">list resource</a> above for further help).</p>
<h2 id="get-a-specific-list">Get a Specific List</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Returns the list with the specified `list_id`</span>
curl <span class="s2">"https://api.affinity.co/lists/450"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My List of People"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"public"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="w">
  </span><span class="nl">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1625</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Status"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">886</span><span class="p">,</span><span class="w">
          </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Interested"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1626</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owners"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /lists/{list_id}</code></p>
<p>Gets the details for a specific list given the existing list id.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the list object to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The details of the list resource corresponding to the list ID specified in the path
parameter. These details include an array of the fields that are specific
to this list. An appropriate error is returned if an invalid list is supplied.</p>
<h2 id="create-a-new-list">Create a New List</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://api.affinity.co/lists <span class="se">\</span>
   <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   <span class="nt">-d</span> <span class="s1">'{ "name": "My List of Organizations", "type": 1, "is_public": true, "owner_id": 38706, "additional_permissions": [ {"internal_person_id": 38701, "role_id": 0}, {"internal_person_id": 38703, "role_id": 1}, {"internal_person_id": 38900, "role_id": 0} ]}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">383</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My List of Organizations"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"public"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"owner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38701</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"additional_permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"internal_person_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38701</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"internal_person_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38703</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"internal_person_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38900</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /lists</code></p>
<p>Creates a new list with the supplied parameters.</p>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>The title of the list that is displayed in Affinity.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>true</td>
<td>The type of the entities (people, organizations, or opportunities) contained within the list. Each list only supports one entity type.</td>
</tr>
<tr>
<td>is_public</td>
<td>boolean</td>
<td>true</td>
<td>Set to true to make the list publicly accessible to all users in your Affinity account. Set to false to make the list private to the list's owner and additional users.</td>
</tr>
<tr>
<td>owner_id</td>
<td>integer</td>
<td>false</td>
<td>The unique ID of the internal person who should own the list. Defaults to the owner of the API key being used. See <a href="https://support.affinity.co/hc/en-us/articles/360029432951-List-Level-Permissions">here</a> for permissions held by a list's owner.</td>
</tr>
<tr>
<td>additional_permissions</td>
<td>object[]</td>
<td>false</td>
<td>A list of additional internal persons and the permissions they should have on the list. Should be a list of objects with <code>internal_person_id</code> and <code>role_id</code>, where <code>role_id</code> comes from the <a href="#list-level-roles">list-level roles</a> table above. See sample request to the right for expected shape.</td>
</tr>
</tbody></table>
<h3 id="returns-3">Returns</h3>
<p>The list resource that was just created through this request.</p>
<h1 id="list-entries">List Entries</h1><h2 id="the-list-entry-resource">The List Entry Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16367</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">287125</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@jdoe.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jdoe@jdoe.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"jdoe2@jdoe2.com"</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-16T16:34:03.539-08:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Each list comprises a number of entries. Each list entry has a creator, a list
that it belongs to, and the underlying entity it represents depending on the type of the
list (people, organizations or opportunities).</p>
<p>Operations like adding and removing entities from a list can be accomplished using the
list entry abstraction.</p>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the list entry object.</td>
</tr>
<tr>
<td>list_id</td>
<td>integer</td>
<td>The unique identifier of the list on which the list entry resides.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>The unique identifier of the user who created the list entry. If you create a list entry through the API, the user corresponding to the API token will be the creator by default.</td>
</tr>
<tr>
<td>entity_id</td>
<td>integer</td>
<td>The unique identifier of the entity corresponding to the list entry.</td>
</tr>
<tr>
<td>entity</td>
<td>object</td>
<td>Object containing entity-specific details like name, email address, domain etc. for the entity corresponding to <code>entity_id</code>.</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The time when the list entry was created.</td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Note</h6>
<p>Although list entries correspond to rows in an Affinity spreadsheet, the values associated with the entity are not stored inside the list entry resource. If you are trying to update, create, or delete a value in one of the custom columns for this list entry, please refer to the <a href="#field-values">Field Values</a> section. The list entry API is only used for getting, adding, or removing entities from a list. It does not handle updating individual cells in columns.</p>
</aside>
<h2 id="get-all-list-entries">Get All List Entries</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/lists/450/list-entries"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64608</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">287843</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">62034</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-04T10:44:31.525-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Team"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"team@affinity.co"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"team@affinity.co"</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53510</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38596</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">241576</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-22T15:22:21.125-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@stanford.edu"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jdoe@stanford.edu"</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example Response with Pagination</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64608</span><span class="p">,</span><span class="w">
      </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">287843</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">62034</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-04T10:44:31.526-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Team"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"team@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"team@affinity.co"</span><span class="w">
        </span><span class="p">],</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53510</span><span class="p">,</span><span class="w">
      </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38596</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">241576</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-22T15:22:21.125-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@stanford.edu"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"jdoe@stanford.edu"</span><span class="w">
        </span><span class="p">],</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /lists/{list_id}/list-entries</code></p>
<p>If no page size is specified, fetches all the list entries in the list with the supplied
list id. If a page size is specified, fetches up to that number of list entries in the
list with the supplied list id.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the list whose list entries are to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page_size</td>
<td>integer</td>
<td>false</td>
<td>How many results to return per page. (Default is to return all results.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code>next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>If the <code>page_size</code> is not passed in as a parameter, an array of all the list entry
resources corresponding to the provided list will be returned.
If the <code>page_size</code> is passed in as a parameter, an object with two fields: <code>list_entries</code>
and <code>next_page_token</code> are returned. <code>list_entries</code> maps to an array of up to <code>page_size</code>
list entries. <code>next_page_token</code> includes a token to be sent along with the next request
as the <code>page_token</code> parameter to fetch the next page of results.
Each list entry in the both cases includes all the attributes as specified in the
<a href="#the-list-entry-resource">List Entry Resource</a> section above.</p>
<h2 id="get-a-specific-list-entry">Get a Specific List Entry</h2>
<p><code>GET /lists/{list_id}/list-entries/{list_entry_id}</code></p>
<p>Fetches a list entry with a specified id.</p>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/lists/450/list-entries/16367"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16367</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38596</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">241576</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-22T15:22:21.125-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@stanford.edu"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jdoe@stanford.edu"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id="path-parameters-2">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the list that contains the specified <code>list_entry_id</code>.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the list entry object to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The list entry object corresponding to the <code>list_entry_id</code>.</p>
<h2 id="create-a-new-list-entry">Create a New List Entry</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST https://api.affinity.co/lists/450/list-entries <span class="se">\</span>
   <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   <span class="nt">-d</span> <span class="s1">'{"entity_id": 38706}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53510</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38596</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-22T15:22:21.125-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@stanford.edu"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jdoe@stanford.edu"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /lists/{list_id}/list-entries</code></p>
<p>Creates a new list entry in the list with the supplied list id.</p>
<h3 id="path-parameters-3">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the list whose list entries are to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>entity_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the person or organization to add to this list. Opportunities <strong>cannot</strong> be created using this endpoint. See note below.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>false</td>
<td>The ID of a Person resource who should be recorded as adding the entry to the list. Must be a person who can access Affinity. If not provided the creator defaults to the owner of the API key.</td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>Opportunities <span class="bold">cannot</span> be created using this endpoint. Instead use the <code><a href="#create-a-new-opportunity">POST /opportunities</a></code> endpoint.</li>
<li>Person and company lists can contain the same entity multiple times. Depending on your use case, before you add an entry, you may want to verify whether or not it exists in the list already.</li>
</ul>
</aside>
<h3 id="returns-3">Returns</h3>
<p>The list entry resource that was just created through this request.</p>
<h2 id="delete-a-specific-list-entry">Delete a Specific List Entry</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/lists/450/list-entries/56517"</span> <span class="se">\</span>
   <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
   <span class="nt">-X</span> <span class="s2">"DELETE"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /lists/{list_id}/list-entries/{list_entry_id}</code></p>
<p>Deletes a list entry with a specified <code>list_entry_id</code>.</p>
<h3 id="path-parameters-4">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the list that contains the specified <code>list_entry_id</code>.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the list entry object to be deleted.</td>
</tr>
</tbody></table>
<h3 id="returns-4">Returns</h3>
<p>The JSON object <code>{"success": true}</code>.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>This will also delete all the field values, if any, associated with the list entry. Such field values will only exist in fields specific to this list.</li>
<li>If the list entry belongs to an Opportunity list, then the opportunity that the list entry is associated with will also be deleted.</li>
</ul>
</aside>
<h1 id="fields">Fields</h1>
<p>As discussed in the previous section, fields as a data model represent the
"columns" in a spreadsheet. A field can be specific to a given list, or it
can be global. List-specific fields appear as a column whenever that
list is being viewed while global fields are displayed on all lists.</p>
<p>Let us consider two examples:</p>
<ol>
<li><p>Assume you have a list called "Top Referrers", and a new list-specific field (column)
called "Number of Referrals" is added to this list. In this case,
the "Number of Referrals" column will only be visible on the "Top Referrers" list.</p></li>
<li><p>Now assume you have three lists of people, "Top Referrers", "Friends in Media",
"BD Leads", and a person X exists on all three lists. If you want to track where all the
people in these 3 lists live, you might have a field called "Location".
It makes sense to make this field global - in which case it will be shared
across all three lists. Hence, if person X is a top referrer and lives in San
Francisco, CA, that information will automatically appear on the "Friends in Media"
list as well.</p></li>
</ol>
<p>By default, Affinity provides all teams with a few default global fields:
For people, the global fields include Location, Job Titles, and Industries.
For organizations, the global fields include Stage, Industry, Location, and
more.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>Global field IDs for persons are returned from <code><a href="#get-global-person-fields">GET /persons/fields</a></code></li>
<li>Global field IDs for organizations are returned from <code><a href="#get-global-organizations-fields">GET /organizations/fields</a></code></li>
<li>List-specific field IDs are also returned from <code><a href="#get-a-specific-list">GET /lists/{list_id}</a></code></li>
</ul>
</aside>
<h2 id="the-field-resource">The Field Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deal Status"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
  </span><span class="nl">"enrichment_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"track_changes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2863451</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2863452</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"In Progress"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2863453</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Won"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Each field object has a unique <code>id</code>. It also has a <code>name</code>, which determines the name of the field,
and <code>allows_multiple</code>, which determines whether multiple values can be added to a single cell for that field.</p>
<p>Affinity is extremely flexible and customizable, and a lot of that power comes from our ability to support many different
value types for fields. Numbers, dates, and locations are all examples of value types, and you can search,
sort, or filter all of them.</p>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the field object.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the field.</td>
</tr>
<tr>
<td>list_id</td>
<td>integer</td>
<td>The unique identifier of the list that the field object belongs to if it is specific to a list. This is <code>null</code> if the field is global.</td>
</tr>
<tr>
<td>allows_multiple</td>
<td>boolean</td>
<td>This determines whether multiple values can be added to a single cell for the field.</td>
</tr>
<tr>
<td>dropdown_options</td>
<td>object[]</td>
<td>Affinity supports pre-entered dropdown options for fields of the "Ranked Dropdown" value_type. The array is empty unless there are valid dropdown options for the field of the "Ranked Dropdown" value type.</td>
</tr>
<tr>
<td>value_type</td>
<td>integer</td>
<td>This field describes what values can be associated with the field. This can be one of many values, as described in the table below.</td>
</tr>
<tr>
<td>enrichment_source</td>
<td>string</td>
<td>The data source for the enriched field. Will appear as none for custom fields and certain list-specific fields (e.g. Status). Fields auto-created for certain integrations will also be called out here (e.g. Mailchimp).</td>
</tr>
</tbody></table>
<h3 id="field-value-types">Field Value Types</h3>
<p>All the Types listed below can be referred through looking at the Affinity web app as well.</p>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Person</td>
<td>This type enables you to add person objects as a value. Eg: External Source, Owner, Friends</td>
</tr>
<tr>
<td>1</td>
<td>Organization</td>
<td>This type enables you to add organization objects as a value. Eg: Place of work, Co-Investors</td>
</tr>
<tr>
<td>2</td>
<td>Dropdown</td>
<td>This type allows you to add text values into a single cell. This is best used when you want to store information that is unique to a person or organization. Eg: Interests, Stage, Industry</td>
</tr>
<tr>
<td>3</td>
<td>Number</td>
<td>This type enables you to add number as a value. Eg: Deal Size, Check Size, Revenue</td>
</tr>
<tr>
<td>4</td>
<td>Date</td>
<td>This type enables you to add date as a value. Eg: Date of Event, Birthday</td>
</tr>
<tr>
<td>5</td>
<td>Location</td>
<td>This type enables you to add a smart Google Maps location as a value. Eg: Address</td>
</tr>
<tr>
<td>6</td>
<td>Text</td>
<td>This type enables you to add a long text block as a value. Eg: Summary</td>
</tr>
<tr>
<td>7</td>
<td>Ranked Dropdown</td>
<td>This type allows you to add values in a particular order as well as assign colors to them. This is the equivalent of a pick list. Eg: Status, Priority, Ranking</td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Note</h6>
<p>The API currently does not support updating and modifying fields. This must be done through the web product.</p>
</aside>
<h2 id="get-fields">Get Fields</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/fields?with_modified_names=true"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Deals] Amount"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enrichment_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"track_changes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5678</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Events] Amount"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enrichment_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"track_changes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4321</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Companies] Description"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enrichment_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dealroom"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"track_changes"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /fields</code></p>
<p>Returns all fields based on the parameters provided.</p>
<p>Pass the <code>list_id</code> to only fetch fields that are specific to that list. Otherwise, all global and list-specific fields will be returned.</p>
<p>Pass the <code>value_type</code> to fetch fields of specific value types. Otherwise, all fields of any type will be returned.</p>
<p>Pass the <code>entity_type</code> to fetch fields of specific entity types. Otherwise, any fields of any entity type will be returned.</p>
<p>Pass the <code>with_modified_names</code> flag to return the fields such that the names have the list name prepended to them in the format <code>[List Name] Field Name</code> (i.e. <code>[Deals] Status</code>).</p>
<p>Pass the <code>exclude_dropdown_options</code> flag to exclude dropdown options from the response. This may be useful when the payload is too large due to too many dropdown options.</p>
<h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>list_id</td>
<td>integer</td>
<td>false</td>
<td>An unique identifier of the list whose fields are to be retrieved.</td>
</tr>
<tr>
<td>value_type</td>
<td>integer</td>
<td>false</td>
<td>The value type of the fields that are to be retrieved.</td>
</tr>
<tr>
<td>entity_type</td>
<td>integer</td>
<td>false</td>
<td>The entity type of the fields that are to be retrieved.</td>
</tr>
<tr>
<td>with_modified_names</td>
<td>boolean</td>
<td>false</td>
<td>When true, field names will return in the format <code>[List Name] Field Name</code>.</td>
</tr>
<tr>
<td>exclude_dropdown_options</td>
<td>boolean</td>
<td>false</td>
<td>When true, dropdown options will not be returned in the response.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>An array of all the fields requested.</p>
<aside class="notice">
<h6>Note</h6>
<ul>
<li>Results returned with <code>list_id: null</code> mean they do not belong to a specific list and thus are global fields.</li>
<li>Field endpoint does not return any Crunchbase fields.</li>
</ul>
</aside>
<h2 id="create-field">Create Field</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/fields"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"name": "[Deals] Amount", "list_id": 11, "entity_type": 1, "value_type": 3, "allows_multiple": false, "is_list_specific": true}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">59</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Deals] Amount"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
  </span><span class="nl">"enrichment_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"track_changes"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /fields</code></p>
<p>Creates a new field with the supplied parameters.</p>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>The name of the field.</td>
</tr>
<tr>
<td>entity_type</td>
<td>integer</td>
<td>true</td>
<td>This describes what type of list this field will be associated with the field. This can be one of three values, see below for all value types.</td>
</tr>
<tr>
<td>value_type</td>
<td>integer</td>
<td>true</td>
<td>This describes what values can be associated with the field. This can be one of many values, see the <a href="#the-field-resource">Field Resource</a> section for all value types.</td>
</tr>
<tr>
<td>list_id</td>
<td>integer</td>
<td>false</td>
<td>The unique identifier of the list that the field object belongs to if it is specific to a list. This is <code>null</code> if the field is global.</td>
</tr>
<tr>
<td>allows_multiple</td>
<td>boolean</td>
<td>false</td>
<td>This determines whether multiple values can be added to a single cell for the field.</td>
</tr>
<tr>
<td>is_list_specific</td>
<td>boolean</td>
<td>false</td>
<td>This determines whether the field object belongs to a specific list. If set to <code>true</code>, you must pass in the appropriate <code>list_id</code>.</td>
</tr>
<tr>
<td>is_required</td>
<td>boolean</td>
<td>false</td>
<td>This determines whether the field object is required.</td>
</tr>
</tbody></table>
<h3 id="field-entity-types">Field Entity Types</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person</td>
<td>0</td>
<td>Type specifying a list of people.</td>
</tr>
<tr>
<td>organization</td>
<td>1</td>
<td>Type specifying a list of organizations.</td>
</tr>
<tr>
<td>opportunity</td>
<td>8</td>
<td>Type specifying a list of opportunities.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The field resource that was just created through this request.</p>
<h2 id="delete-a-field">Delete a Field</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/fields/1234"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-X</span> <span class="s2">"DELETE"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /fields/{id}</code></p>
<p>Deletes an field with the specified <code>id</code>.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the field that needs to be deleted.</td>
</tr>
</tbody></table>
<h3 id="returns-3">Returns</h3>
<p><code>{success: true}</code>.</p>
<h1 id="field-values">Field Values</h1>
<p>Field values are displayed in Affinity as the data in the cells of an Affinity spreadsheet.</p>
<p>As an example for how a field value is created:</p>
<ol>
<li> Assume there exists a list of people called "Business Development Leads".</li>
<li> A custom field called "Deal Size" is created on this list. Fields are visually displayed as columns.</li>
<li> A person X is added to this list. This action creates a list entry for this person.</li>
<li> A value, 50,000, is entered in the cell corresponding to person X in the Deal Size column.</li>
<li> 50,000 is now a field value tied to the list entry corresponding to person X, and the "Deal Size" field.</li>
</ol>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>By default, Affinity creates some fields for you automatically. These include Location, Industry, Job Titles, and more. See the <a href="#default-fields">Default Fields</a> section for more information.</li>
<li>Opportunities cannot have global field values</li>
</ul>
</aside>
<h2 id="the-field-value-resource">The Field Value Resource</h2>
<blockquote>
<p>Example Response (Global Location Field Value)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">250616</span><span class="p">,</span><span class="w">
  </span><span class="nl">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">337</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-04T08:54:24.694-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"California"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"continent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example Response (List Specific Dropdown Field Value)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">177634</span><span class="p">,</span><span class="w">
  </span><span class="nl">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">751</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">605</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-04T08:54:24.694-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-04T08:54:24.694-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">71</span><span class="p">,</span><span class="w">
    </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Low"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Each field value object has a unique <code>id</code>.</p>
<p>A field value also has <code>field_id</code>, <code>entity_id</code>, and <code>list_entry_id</code>
attributes that give it the appropriate associations, as noted in the example above.</p>
<p>Use the <code>created_at</code> and <code>updated_at</code> timestamps on field values to determine when the value(s) for a given field have last been added or changed. Please note that what might amount to an update in-product (e.g. for dropdown fields) might result in a newly created field value rather than an updated old one in the API.</p>
<p>A field value can take on many different kinds of values, depending on the
<code>field</code> value type (see <a href="#fields">Fields</a> section).</p>
<aside class="notice">
<h6>Note</h6>
<p>When retrieving Field Values from a specific cell in your Affinity list, it may be helpful to think about it as an XY coordinate system. The X coordinate is the List Entry <span class="bold">or</span> Entity and the Y coordinate is the Field ID. You will need to have both to find the appropriate Field Value ID.</p>
</aside>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the field value object.</td>
</tr>
<tr>
<td>field_id</td>
<td>integer</td>
<td>The unique identifier of the field the value is associated with.</td>
</tr>
<tr>
<td>entity_id</td>
<td>integer</td>
<td>The unique identifier of the person, organization, or opportunity object the field value is associated with.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>The unique identifier of the list entry object the field value is associated with. This only exists if the field the value is associated with is list-specific.</td>
</tr>
<tr>
<td>value</td>
<td>One of many</td>
<td>The value attribute can take on many different types, depending on the field <code>value_type</code>. See below for reference.</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The string representing the time when the field value was created.</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>The string representing the last time the field value was updated.</td>
</tr>
</tbody></table>
<h3 id="field-value-value-types">Field Value Value Types</h3>
<p>The Field Type specified below corresponds to the <code>value_type</code> of a field.</p>
<table><thead>
<tr>
<th>Value Type</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dropdown</td>
<td>string</td>
<td>This represents a value in a dropdown field.</td>
</tr>
<tr>
<td>number</td>
<td>integer</td>
<td>This represents a value in a number field.</td>
</tr>
<tr>
<td>person</td>
<td>integer</td>
<td>This represents a value in a person field.</td>
</tr>
<tr>
<td>organization</td>
<td>integer</td>
<td>This represents a value in an organization field.</td>
</tr>
<tr>
<td>location</td>
<td>object</td>
<td>This represents a value in a location field - it's an object comprising the following keys: <code>street_address</code>, <code>city</code>, <code>state</code>, <code>country</code>, all of which take string values.</td>
</tr>
<tr>
<td>date</td>
<td>datetime</td>
<td>This represents a value in a date field.</td>
</tr>
<tr>
<td>text</td>
<td>string</td>
<td>This represents a value in a text field.</td>
</tr>
</tbody></table>
<h2 id="get-field-values">Get Field Values</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/field-values?person_id=38706"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">250616</span><span class="p">,</span><span class="w">
    </span><span class="nl">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">337</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-04T08:54:24.694-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-04T08:54:24.694-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"California"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"continent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2634897436</span><span class="p">,</span><span class="w">
    </span><span class="nl">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">768101</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">65680071</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-04T08:54:24.694-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Software Engineer"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">32760</span><span class="p">,</span><span class="w">
    </span><span class="nl">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">198</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-09-04T08:54:24.694-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">38659</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /field-values</code></p>
<p>Returns all field values attached to a <code>person</code>, <code>organization</code>, <code>opportunity</code>, or <code>list_entry</code>.</p>
<h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique ID that represents a person object whose field values are to be retrieved.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique ID that represents an organization object whose field values are to be retrieved.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique ID that represents an opportunity object whose field values are to be retrieved.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique ID that represents a list entry object whose field values are to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>An array of all the field values associated with the supplied <code>person</code>,
<code>organization</code>, <code>opportunity</code>, or <code>list_entry</code>.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>Exactly one of <code>person_id</code>, <code>organization_id</code>, <code>opportunity_id</code>, or <code>list_entry_id</code> must be specified to the endpoint.</li>
<li>If a <code>person_id</code>, <code>organization_id</code>, or <code>opportunity_id</code> is specified, the endpoint returns all field values tied to these entities - including those that are associated with all list entries that exist for the given person or organization. Opportunities can only have one list entry.</li>
<li>
<p>Smart fields cannot be retrieved using the field values endpoint. Smart field values can be retrieved using the <code>with_interaction_dates</code> parameter on the <code><a href="#get-a-specific-person">GET /persons/{person_id}</a></code> or <code><a href="#get-a-specific-organization">GET /organizations/{organization_id}</a></code> endpoints. The people associated with smart fields can be retrieved using the <code>with_interaction_persons</code> on the <code><a href="#get-a-specific-person">GET /persons/{person_id}</a></code> or <code><a href="#get-a-specific-organization">GET /organizations/{organization_id}</a></code> endpoints.</p>
</li>
<li>Field values endpoint does return Crunchbase fields, but with <code>null</code> values.</li>
</ul>
</aside>
<h2 id="create-a-new-field-value">Create a New Field Value</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/field-values"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"field_id": 1284, "value": "Architecture", "entity_id": 38706}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">20406836</span><span class="p">,</span><span class="w">
  </span><span class="nl">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1284</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-04T10:37:19.418-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Architecture"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /field-values</code></p>
<p>Creates a new field value with the supplied parameters.</p>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>field_id</td>
<td>integer</td>
<td>true</td>
<td>The unique identifier of the field (column) that the field value is associated with.</td>
</tr>
<tr>
<td>entity_id</td>
<td>integer</td>
<td>true</td>
<td>The unique identifier of the entity (person, organization, or opportunity) that the field value is associated with.</td>
</tr>
<tr>
<td>value</td>
<td>custom</td>
<td>true</td>
<td>See the <a href="#the-field-value-resource">Field Value Resource</a> section for all value types. The value specified must correspond to the <code>value_type</code> of the supplied <code>field</code>. For ranked dropdown fields like the default Status field, you must supply the ID of a dropdown option rather than a string value. These IDs can be found using the <code>GET /fields</code> endpoint.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>false</td>
<td>The unique identifier of the list entry (list row) that the field value is associated with. Only specify the <code>list_entry_id</code> if the field that the field value is associated with is list specific.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The field value resource that was just created through this request.</p>
<h2 id="update-a-field-value">Update a Field Value</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PUT <span class="s2">"https://api.affinity.co/field-values/20406836"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"value": "Healthcare"}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">20406836</span><span class="p">,</span><span class="w">
  </span><span class="nl">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1284</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-04T10:37:19.418-04:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-02-06T11:53:08.914-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Healthcare"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>PUT /field-values/{field_value_id}</code></p>
<p>Updates the existing field value with <code>field_value_id</code> with the supplied parameters.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>field_value_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the field value that needs to be updated.</td>
</tr>
</tbody></table>
<h3 id="payload-parameters-2">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>custom</td>
<td>true</td>
<td>See the <a href="#the-field-value-resource">Field Value Resource</a> section for all value types. The value specified must correspond to the <code>value_type</code> of the supplied <code>field</code>. For ranked dropdown fields like the default Status field, you must supply the ID of a dropdown option rather than a string value. These IDs can be found using the <code>GET /fields</code> endpoint.</td>
</tr>
</tbody></table>
<h3 id="returns-3">Returns</h3>
<p>The field value object that was just updated through this request.</p>
<aside class="notice">
<h6>Notes</h6>
<p>When updating a specific field value make sure to use the field_value_id and not the <code>field_id</code>.</p>
</aside>
<h2 id="delete-a-field-value">Delete a Field Value</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/field-values/20406836"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-X</span> <span class="s2">"DELETE"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /field-values/{field_value_id}</code></p>
<p>Deletes an field value with the specified <code>field_value_id</code>.</p>
<h3 id="path-parameters-2">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>field_value_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the field value that needs to be deleted.</td>
</tr>
</tbody></table>
<h3 id="returns-4">Returns</h3>
<p><code>{success: true}</code>.</p>
<h1 id="field-value-changes">Field Value Changes</h1>
<p>Field value changes allow you to see historical changes to the values of fields in Affinity.
This is especially useful for tracking progress through statuses (e.g. Lead --&gt; Closed Won).</p>
<h2 id="supported-field-types">Supported field types</h2>
<p>Not all fields can track historical changes.</p>
<p>Fields that are automatically created and "enriched" by Affinity <strong>do not</strong> support change tracking.</p>
<p>Among fields that are not enriched, only the ones with the following data types support change tracking:</p>
<h3 id="multi-valued-fields">Multi-valued Fields</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Person</td>
</tr>
<tr>
<td>1</td>
<td>Organization</td>
</tr>
<tr>
<td>3</td>
<td>Number</td>
</tr>
<tr>
<td>5</td>
<td>Location</td>
</tr>
</tbody></table>
<h3 id="single-valued-fields">Single-valued fields</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Person</td>
</tr>
<tr>
<td>1</td>
<td>Organization</td>
</tr>
<tr>
<td>3</td>
<td>Number</td>
</tr>
<tr>
<td>4</td>
<td>Date</td>
</tr>
<tr>
<td>5</td>
<td>Location</td>
</tr>
<tr>
<td>7</td>
<td>Ranked Dropdown</td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Note</h6>
<p>You can also see if a field does so by looking at the <code>track_changes</code> attribute in the <a href="#get-fields">Field Resource</a>. The API will return an appropriate error if the field doesn't support historical tracking.</p>
</aside>
<h2 id="the-field-value-change-resource">The Field Value Change Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50822718</span><span class="p">,</span><span class="w">
  </span><span class="nl">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">236333</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">261131046</span><span class="p">,</span><span class="w">
  </span><span class="nl">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15709964</span><span class="p">,</span><span class="w">
  </span><span class="nl">"action_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"changer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jane@gmail.com"</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"changed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-11T15:46:50.963-07:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1607859</span><span class="p">,</span><span class="w">
    </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Each field value change object has a unique <code>id</code>.</p>
<p>A field value change also has <code>field_id</code>, <code>entity_id</code>, <code>list_entry_id</code> attributes that give it the
appropriate associations, as noted in the example above.</p>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the field value change object.</td>
</tr>
<tr>
<td>field_id</td>
<td>integer</td>
<td>The unique identifier of the field the value change is associated with.</td>
</tr>
<tr>
<td>entity_id</td>
<td>integer</td>
<td>The unique identifier of the person, organization, or opportunity object the field value change is associated with.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>The unique identifier of the list entry object the field value change is associated with.</td>
</tr>
<tr>
<td>action_type</td>
<td>One of several</td>
<td>Describes the action behind this field value change. This attribute can take on several different types; see below for reference.</td>
</tr>
<tr>
<td>value</td>
<td>One of many</td>
<td>Represents the field's value. This attribute can take on many different types, depending on the field <code>value_type</code>. When the action type is Delete, value represents the old value; otherwise, it represents the new value.</td>
</tr>
</tbody></table>
<h3 id="field-value-change-action-types">Field Value Change action types</h3>
<p>The action type specified below corresponds to the <code>action_type</code> of a field value change.
This attribute filters the field value changes that are returned. For example,
when an <code>action_type</code> of 0 is specified, all the field value change objects that are returned
will represent when a field value has been created.</p>
<table><thead>
<tr>
<th>Action Type</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>Create</td>
</tr>
<tr>
<td>1</td>
<td>Delete</td>
</tr>
<tr>
<td>2</td>
<td>Update</td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Note</h6>
<p>There are some extra attributes returned by this endpoint; they will be deprecated soon and should not be used.</p>
</aside>
<h2 id="get-field-values-changes">Get Field Values Changes</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/field-value-changes?field_id=236333"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50822718</span><span class="p">,</span><span class="w">
    </span><span class="nl">"field_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">236333</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">261131046</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_entry_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15709964</span><span class="p">,</span><span class="w">
    </span><span class="nl">"action_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jane@gmail.com"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"changed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-11T15:46:50.963-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1607859</span><span class="p">,</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /field-value-changes</code></p>
<p>Returns all field values changes attached to a specific field. Field value changes can be filtered by <code>action_type</code>, <code>person</code>, <code>organization</code>, <code>opportunity</code> or <code>list_entry</code> by passing in the appropriate parameter.</p>
<h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>field_id</td>
<td>integer</td>
<td>true</td>
<td>A unique ID that represents a field object whose field values changes are to be retrieved.</td>
</tr>
<tr>
<td>action_type</td>
<td>integer</td>
<td>false</td>
<td>An integer that filters field value changes that were created with this specific action type (see above).</td>
</tr>
<tr>
<td>person_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique ID that represents a person object whose field value changes are to be retrieved.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique ID that represents an organization object whose field value changes are to be retrieved.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique ID that represents an opportunity object whose field value changes are to be retrieved.</td>
</tr>
<tr>
<td>list_entry_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique ID that represents a list entry object whose field value changes are to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>An array of all the field values changes associated with the supplied field and <code>person</code>, <code>organization</code>, <code>opportunity</code> or <code>list_entry</code> if specified.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>Exactly one of <code>person_id</code>, <code>organization_id</code>, <code>opportunity_id</code>, or <code>list_entry_id</code> must be specified to the endpoint.</li>
<li>If a <code>person_id</code>, <code>organization_id</code>, or <code>opportunity_id</code> is specified, the endpoint returns all field value changes tied to these entities.</li>
<li>If a <code>list_entry_id</code> is specified, the result is filtered by the <code>person_id</code>, <code>organization_id</code> or <code>opportunity_id</code> which is tied to the specified <code>list_entry_id</code>.</li>
</ul>
</aside>
<h1 id="persons">Persons</h1>
<p>The persons API allows you to manage all the contacts of your organization. These people
include anyone your team has ever been in email communications or meetings with, and all
the people that your team has added to Affinity either manually or through the API.
Affinity's data model also guarantees that only one person in your team's shared contact
list has a given email address.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>If you are looking to add or remove a person from a list, please check out the <a href="#list-entries">List Entries</a> section of the API.</li>
<li>If you are looking to modify a person's field values (one of the cells on Affinity's spreadsheet), please check out the <a href="#field-values">Field Values</a> section of the API.</li>
</ul>
</aside>
<h2 id="the-person-resource">The Person Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jdoe@alumni.stanford.edu"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"johnjdoe@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">1687449</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"current_organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1687449</span><span class="p">],</span><span class="w">
  </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">388</span><span class="p">,</span><span class="w">
      </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38603</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_dates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_email_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-23T08:12:45.328-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_email_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_chat_message_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-01T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_interaction_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-01-01T08:18:00.329-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"interactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-23T08:12:45.328-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"last_email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"last_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"last_chat_message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-01T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"last_interaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="mi">111</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"next_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="mi">124</span><span class="p">,</span><span class="w">
        </span><span class="mi">125</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"first_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-01-01T08:18:00.329-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Each person resource is assigned a unique <code>id</code> and stores the name, type, and
email addresses of the person. A person resource also has access to a smart attribute
called <code>primary_email</code>. The value of <code>primary_email</code> is automatically computed by
Affinity's proprietary algorithms and refers to the email that is most likely to be the
current active email address of a person.</p>
<p>The person resource <code>organization_ids</code> is a collection of unique identifiers to the
person's associated organizations. Note that a person can be associated with multiple
organizations. For example, say your team has talked with organizations A and B. Person X
used to work at A and was your point of contact, but then changed jobs and started emailing
you from a new email address (corresponding to organization B).
In this case, Affinity will automatically associate person X with both
organization A and organization B.</p>
<p>The person resource <code>type</code> indicates whether a person is internal or
external to your team. Every internal person is a user of Affinity on your team, and all other
people are externals.</p>
<p>Dates of the most recent and upcoming interactions with a person are available in the
<code>interaction_dates</code> field. This data is only included when passing
<code>with_interaction_dates=true</code> as a query parameter to the <code>/persons</code> or
the <code>/persons/{person_id}</code> endpoints.</p>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the person object.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>The type of person (see below).</td>
</tr>
<tr>
<td>first_name</td>
<td>string</td>
<td>The first name of the person.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>The last name of the person.</td>
</tr>
<tr>
<td>emails</td>
<td>string[]</td>
<td>The email addresses of the person.</td>
</tr>
<tr>
<td>primary_email</td>
<td>string</td>
<td>The email (automatically computed) that is most likely to the current active email address of the person.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of organizations that the person is associated with.</td>
</tr>
<tr>
<td>opportunity_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of opportunities that the person is associated with. Only returned when <code>with_opportunities=true</code>.</td>
</tr>
<tr>
<td>current_organization_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of organizations that the person is currently associated with according to the Affinity Data: Current Organization in-app column. Only returned when <code>with_current_organizations=true</code>.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>list_entries</td>
<td>ListEntry[]</td>
<td>An array of list entry resources associated with the person, only returned as part of the <a href="#get-a-specific-person">Get a Specific Person</a> endpoint.</td>
</tr>
<tr>
<td>interaction_dates</td>
<td>object</td>
<td>An object with seven string date fields representing the most recent and upcoming interactions with this person: <code>first_email_date</code>, <code>last_email_date</code>, <code>last_event_date</code>, <code>last_chat_message_date</code>, <code>last_interacton_date</code>, <code>first_event_date</code> and <code>next_event_date</code>. Only returned when passing <code>with_interaction_dates=true</code>.</td>
</tr>
<tr>
<td>interactions</td>
<td>object</td>
<td>An object with seven fields nested underneath. Each field corresponds to one of the seven interactions, and includes nested fields for <code>date</code> and <code>person_ids</code> which indicates the internal people associated with that event. Only returned when passing <code>with_interaction_dates=true</code>.</td>
</tr>
</tbody></table>
<h3 id="person-types">Person types</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>external</td>
<td>0</td>
<td>Default value. All people that your team has spoken with externally have this type.</td>
</tr>
<tr>
<td>internal</td>
<td>1</td>
<td>All people on your team that have Affinity accounts will have this type.</td>
</tr>
</tbody></table>
<h2 id="search-for-persons">Search for Persons</h2>
<p><code>GET /persons</code></p>
<p>Searches your teams data and fetches all the persons that meet the search criteria.
The search term can be part of an email address, a first name or a last name.</p>
<p>This result is paginated. An initial request returns an object with two fields: <code>persons</code>
and <code>next_page_token</code>. <code>persons</code> contains an array of person resources. The value of
<code>next_page_token</code> should be sent as the query parameter <code>page_token</code> in another request to
retrieve the next page of results. While paginating through results, each request must have
identical query parameters other than the changing <code>page_token</code>. Otherwise, an <code>Invalid page_token variable</code> error will be returned.</p>
<p>The absence of a <code>next_page_token</code> indicates that all the records have been fetched,
though its presence does not necessarily indicate that there are <em>more</em> resources to be
fetched. The next page may be empty (but then <code>next_page_token</code> would be <code>null</code> to
confirm that there are no more resources).</p>
<p>Pass <code>with_interaction_dates=true</code> as a query parameter to include dates of the most
recent and upcoming interactions with persons. When this parameter is included, persons
with no interactions will not be returned in the response.
Pass <code>with_interaction_persons=true</code> as a query parameter if
<code>with_interaction_dates=true</code> to also get the internal persons associated with the
interaction.</p>
<p>You can filter by interaction dates by providing additional query parameters like
<code>min_last_email_date</code> or <code>max_next_event_date</code>. The value of these query parameters should
be ISO 8601 formatted date strings.</p>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/persons?term=doe"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"persons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"jdoe@alumni.stanford.edu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"johnjdoe@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">624289</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jane@gmail.com"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example Pagination</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># To get the second page of results, issue the following query:</span>
curl <span class="s2">"https://api.affinity.co/persons?term=doe&amp;page_token=eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example with Interaction Date</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># To get the results between min_last_email_interaction_date and max_last_email_interaction_date, issue the following query:</span>
curl <span class="s2">"https://api.affinity.co/persons"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"min_last_email_date": "2021-01-01T00:00:00", "with_interaction_dates": true, "max_last_email_date": "2021-01-12T23:59:59"}'</span>
</code></pre></div><h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>term</td>
<td>string</td>
<td>false</td>
<td>A string used to search all the persons in your team's address book. This could be an email address, a first name or a last name.</td>
</tr>
<tr>
<td>with_interaction_dates</td>
<td>boolean</td>
<td>false</td>
<td>When true, interaction dates will be present on the returned resources. Only persons that have interactions will be returned.</td>
</tr>
<tr>
<td>with_interaction_persons</td>
<td>boolean</td>
<td>false</td>
<td>When true, persons for each interaction will be returned. Used in conjunction with <code>with_interaction_dates</code></td>
</tr>
<tr>
<td>with_opportunities</td>
<td>boolean</td>
<td>false</td>
<td>When true, opportunity IDs will be returned for each person.</td>
</tr>
<tr>
<td>with_current_organizations</td>
<td>boolean</td>
<td>false</td>
<td>When true, the organization IDs of each person's current organizations (according to the Affinity Data: Current Organizations column) will be returned.</td>
</tr>
<tr>
<td>min_<code>{interaction type}</code>_date</td>
<td>string</td>
<td>false</td>
<td>Only returns persons with the given interaction type above the given value. <code>interaction type</code> can be one of <code>first_email</code>, <code>last_email</code>, <code>last_interaction</code>, <code>last_event</code>, <code>first_event</code>, or <code>next_event</code>. This would be used with max interation.</td>
</tr>
<tr>
<td>max_<code>{interaction type&gt;</code>_date</td>
<td>string</td>
<td>false</td>
<td>Only returns persons with the given interaction type below the given value. <code>interaction type</code> can be one of <code>first_email</code>, <code>last_email</code>, <code>last_interaction</code>, <code>last_event</code>, <code>first_event</code>, or <code>next_event</code>. This would be used with min interation.</td>
</tr>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 500.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code>next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>An object with two fields: <code>persons</code> and <code>next_page_token</code>. <code>persons</code> maps to an array of
all the person resources that match the search criteria. Does not include the associated
<code>organization_ids</code> or <code>list_entries</code>. <code>next_page_token</code> includes a token to be sent along
with the next request as the <code>page_token</code> parameter to fetch the next page of results.
When <code>with_interaction_dates</code> is passed in the returned resources will have
<code>interaction_dates</code> fields.</p>
<h2 id="get-a-specific-person">Get a Specific Person</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/persons/38706?with_opportunities=true&amp;with_current_organizations=true"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>

</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jdoe@alumni.stanford.edu"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1687449</span><span class="p">],</span><span class="w">
  </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"current_organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1687449</span><span class="p">],</span><span class="w">
  </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">388</span><span class="p">,</span><span class="w">
      </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38603</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /persons/{person_id}</code></p>
<p>Fetches a person with a specified <code>person_id</code>.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the person that needs to be retrieved.</td>
</tr>
<tr>
<td>with_interaction_dates</td>
<td>boolean</td>
<td>false</td>
<td>When true, interaction dates will be present on the returned resources.</td>
</tr>
<tr>
<td>with_interaction_persons</td>
<td>boolean</td>
<td>false</td>
<td>When true, persons for each interaction will be returned. Used in conjunction with <code>with_interaction_dates</code></td>
</tr>
<tr>
<td>with_opportunities</td>
<td>boolean</td>
<td>false</td>
<td>When true, opportunity IDs associated with this person will be returned.</td>
</tr>
<tr>
<td>with_current_organizations</td>
<td>boolean</td>
<td>false</td>
<td>When true, the IDs of this person's current organizations (according to the Affinity Data: Current Organizations column) will be returned.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The person resource corresponding to the <code>person_id</code>.</p>
<h2 id="create-a-new-person">Create a New Person</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/persons"</span> <span class="se">\</span>
   <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   <span class="nt">-d</span> <span class="s1">'{"first_name": "Alice", "last_name": "Doe", "emails": ["alice@affinity.co"], "organization_ids": [1687449]}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"alice@affinity.co"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1687449</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /persons</code></p>
<p>Creates a new person with the supplied parameters.</p>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string</td>
<td>true</td>
<td>The first name of the person.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>true</td>
<td>The last name of the person.</td>
</tr>
<tr>
<td>emails</td>
<td>string[]</td>
<td>true</td>
<td>The email addresses of the person. If there are no email addresses, please specify an empty array.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of organizations that the person is associated with.</td>
</tr>
</tbody></table>
<h3 id="returns-3">Returns</h3>
<p>The person resource was newly created from this successful request.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>If one of the supplied email addresses conflicts with another person object, this request will fail and an appropriate error will be returned.</li>
<li>If you are looking to add an existing person to a list, please check the <a href="#list-entries">List Entries</a> section of the API.</li>
</ul>
</aside>
<h2 id="update-a-person">Update a person</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PUT <span class="s2">"https://api.affinity.co/persons/860197"</span> <span class="se">\</span>
   <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   <span class="nt">-d</span> <span class="s1">'{"first_name": "Allison", "emails": ["allison@affinity.co", "allison@gmail.com"]}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allison"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"alice@affinity.co"</span><span class="p">,</span><span class="w"> </span><span class="s2">"allison@example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"allison@gmail.com"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1687449</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>PUT /persons/{person_id}</code></p>
<p>Updates an existing person with <code>person_id</code> with the supplied parameters. Only attributes
that need to be changed must be passed in.</p>
<h3 id="path-parameters-2">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the person that needs to be updated.</td>
</tr>
</tbody></table>
<h3 id="payload-parameters-2">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string</td>
<td>false</td>
<td>The first name of the person.</td>
</tr>
<tr>
<td>last_name</td>
<td>string</td>
<td>false</td>
<td>The last name of the person.</td>
</tr>
<tr>
<td>emails</td>
<td>string[]</td>
<td>false</td>
<td>The email addresses of the person. If there are no email addresses, please specify an empty array.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of organizations that the person is associated with</td>
</tr>
</tbody></table>
<h3 id="returns-4">Returns</h3>
<p>The person object that was just updated through this request.</p>
<aside class="notice">
<h6>Note</h6>
<ul>
<li>If you are looking to add an existing person to a list, please check the <a href="#list-entries">List Entries</a> section of the API.</li>
<li>If you are trying to add a new email or organization to a person, the existing values for <code>emails</code> and <code>organization_ids</code> must also be supplied as parameters.</li>
</ul>
</aside>
<h2 id="delete-a-person">Delete a Person</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/persons/860197"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-X</span> <span class="s2">"DELETE"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /persons/{person_id}</code></p>
<p>Deletes a person with a specified <code>person_id</code>.</p>
<h3 id="path-parameters-3">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the person that needs to be deleted.</td>
</tr>
</tbody></table>
<h3 id="returns-5">Returns</h3>
<p><code>{success: true}</code>.</p>
<aside class="notice">
<h6>Note</h6>
<p>This will also delete all the field values, if any, associated with the person. Such field values exist linked to either global or list-specific fields.</p>
</aside>
<h2 id="get-global-person-fields">Get Global Person Fields</h2>
<p><code>GET /persons/fields</code></p>
<p>Fetches an array of all the global fields that exist on people. If you aren't sure
about what fields are, please read the <a href="#fields">Fields</a>
section first.</p>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/persons/fields"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Use Case"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">198</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Referrers"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1615</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h3 id="parameters">Parameters</h3>
<p>None.</p>
<h3 id="returns-6">Returns</h3>
<p>An array of the global fields that exist on people for your team.</p>
<h1 id="organizations">Organizations</h1>
<p>An organization in Affinity represents an external company that your team is in touch
with- this could be an organization you're trying to invest in, sell to, or establish a
relationship with.</p>
<p>An organization has many people associated with it - these are your team's points of
contacts at that organization. Just like people, organizations can be added to multiple
lists and can be assigned field values.</p>
<p>To make the data quality as good as possible, we have our own proprietary database of
organizations that we have developed through third-party partnerships and web scraping.
We use this database to minimize data entry for you as you use Affinity's CRM products.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>If you are looking to add or remove an organization from a list, please check out the <a href="#list-entries">List Entries</a> section of the API.</li>
<li>If you are looking to modify a field value (one of the cells on Affinity's spreadsheet), please check out the <a href="#field-values">Field Values</a> section of the API.</li>
</ul>
</aside>
<h2 id="the-organization-resource">The Organization Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64779194</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"affinity.co"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"global"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">89734</span><span class="p">,</span><span class="w">
    </span><span class="mi">117270</span><span class="p">,</span><span class="w">
    </span><span class="mi">138123</span><span class="p">,</span><span class="w">
    </span><span class="mi">274492</span><span class="p">,</span><span class="w">
    </span><span class="mi">304848</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="p">],</span><span class="w">
  </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">389</span><span class="p">,</span><span class="w">
      </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38603</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64779194</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_dates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_email_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-23T08:12:45.328-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_email_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_chat_message_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-01T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_interaction_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_event_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-01-01T08:18:00.329-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"interactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first_email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-23T08:12:45.328-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"last_email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"last_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"last_chat_message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-11-01T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"last_interaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="mi">111</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"next_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-04T05:06:07.890-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="mi">124</span><span class="p">,</span><span class="w">
        </span><span class="mi">125</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"first_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-01-01T08:18:00.329-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">123</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Each organization object has a unique <code>id</code>. It also has a <code>name</code>, <code>domain</code> (the website
of the organization), and <code>persons</code> associated with it. The <code>domain</code> is an important
attribute from an automation perspective, as it helps Affinity automatically link all
the appropriate person objects to the organization.</p>
<p>Each organization also has a flag determining whether it's <code>global</code> or not. As mentioned
above, Affinity maintains its own database of global organizations that each customer has
access to. Note that you cannot change the name or the domain of a <code>global</code>
organization. You also cannot delete a <code>global</code> organization.</p>
<p>Of course, if an organization is manually created by your team, all fields can be
modified and the organization can be deleted.</p>
<p>Dates of the most recent and upcoming interactions with an organization are available in the
<code>interaction_dates</code> field. This data is only included when passing
<code>with_interaction_dates=true</code> as a query parameter to the <a href="#search-for-organizations"><code>GET /organizations</code></a> or
the <a href="#get-a-specific-organization"><code>GET /organizations/{organization_id}</code></a> endpoints.</p>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the organization object.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the organization.</td>
</tr>
<tr>
<td>domain</td>
<td>string</td>
<td>The website name of the organization. This is used by Affinity to automatically associate person objects with an organization.</td>
</tr>
<tr>
<td>domains</td>
<td>string[]</td>
<td>An array of all the websites associated with the organization. These are also used to automatically associate person objects with an organization.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of people that are associated with the organization</td>
</tr>
<tr>
<td>opportunity_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of opportunities that are associated with the organization</td>
</tr>
<tr>
<td>global</td>
<td>boolean</td>
<td>Returns whether this organization is a part of Affinity's global dataset of organizations. This is always false if the organization was created by you.</td>
</tr>
<tr>
<td>list_entries</td>
<td>ListEntry[]</td>
<td>An array of list entry resources associated with the organization, only returned as part of the <a href="#get-a-specific-organization">Get a specific organization</a> endpoint.</td>
</tr>
<tr>
<td>interaction_dates</td>
<td>object</td>
<td>An object with seven string date fields representing the most recent and upcoming interactions with this organization: <code>first_email_date</code>, <code>last_email_date</code>, <code>last_event_date</code>, <code>last_chat_message_date</code>, <code>last_interacton_date</code>, <code>first_event_date</code>, and <code>next_event_date</code>. Only returned when passing <code>with_interaction_dates=true</code>.</td>
</tr>
<tr>
<td>interactions</td>
<td>object</td>
<td>An object with seven fields nested underneath.  Each field corresponds to one of the seven interactions, and includes nested fields for <code>date</code> and <code>person_ids</code> which indicates the internal people associated with that event (people only returned if passing <code>with_interaction_persons=true</code>).  Only returned when passing <code>with_interaction_dates=true</code>.</td>
</tr>
</tbody></table>
<h2 id="search-for-organizations">Search for Organizations</h2>
<p><code>GET /organizations</code></p>
<p>Searches your team's data and fetches all the organizations that meet the search criteria.
The search term can be a part of an organization's name or domain.</p>
<p>This result is paginated. An initial request returns an object with two fields:
<code>organizations</code> and <code>next_page_token</code>. <code>organizations</code> contains an array of organization
resources. The value of <code>next_page_token</code> should be sent as the query parameter
<code>page_token</code> in another request to retrieve the next page of results. While paginating
through results, each request must have identical query parameters other than the changing
<code>page_token</code>. Otherwise, an <code>Invalid page_token variable</code> error will be returned.</p>
<p>The absence of a <code>next_page_token</code> indicates that all the records have been fetched,
though its presence does not necessarily indicate that there are <em>more</em> resources to be
fetched. The next page may be empty (but then <code>next_page_token</code> would be <code>null</code> to
confirm that there are no more resources).</p>
<p>Pass <code>with_interaction_dates=true</code> as a query parameter to include dates of the most
recent and upcoming interactions with organizations. When this parameter is included,
organizations with no interactions will not be returned in the response.
Pass <code>with_interaction_persons=true</code> as a query parameter if
<code>with_interaction_dates=true</code> to also get the internal persons associated with the
interaction.</p>
<p>You can filter by interaction dates by providing additional query parameters like
<code>min_last_email_date</code> or <code>max_next_event_date</code>. The value of these query parameters should
be ISO 8601 formatted date strings. The interaction dates are stored with timestamps,
so the <code>{min,max}_&lt;interaction&gt;_date</code> parameter can include or exclude timestamps to explicitly
filter the dataset. If a timestamp is not provided, the system will use the default value of
<code>00:00:00</code>.</p>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/organizations?term=affinity"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64779194</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"affinity.co"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"affinity.co"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"global"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1513682</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brand Affinity Technologies"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brandaffinity.net"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"brandaffinity.net"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"global"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example Pagination</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># To get the second page of results, issue the following query:</span>
curl <span class="s2">"https://api.affinity.co/organizations"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">page_token</span><span class="o">=</span>eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9
</code></pre></div>
<blockquote>
<p>Example with Interaction Date</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># To get the results between min_last_email_interaction_date and max_last_email_interaction_date, issue the following query:</span>
curl <span class="s2">"https://api.affinity.co/organizations"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"min_last_email_date": "2021-01-01T00:00:00", "with_interaction_dates": true, "max_last_email_date": "2021-01-12T23:59:59"}'</span>
</code></pre></div><h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>term</td>
<td>string</td>
<td>false</td>
<td>A string used to search all the organizations in your team's address book. This could be a name or a domain name.</td>
</tr>
<tr>
<td>with_interaction_dates</td>
<td>boolean</td>
<td>false</td>
<td>When true, interaction dates will be present on the returned resources. Only organizations that have interactions will be returned.</td>
</tr>
<tr>
<td>with_interaction_persons</td>
<td>boolean</td>
<td>false</td>
<td>When true, persons for each interaction will be returned. Used in conjunction with <code>with_interaction_dates</code>.</td>
</tr>
<tr>
<td>with_opportunities</td>
<td>boolean</td>
<td>false</td>
<td>When true, opportunity IDs associated with this organization will be returned.</td>
</tr>
<tr>
<td>min_<code>{interaction type}</code>_date</td>
<td>string</td>
<td>false</td>
<td>Only returns organizations with the given interaction type above the given value. <code>interaction type</code> can be one of <code>first_email</code>, <code>last_email</code>, <code>last_interaction</code>, <code>last_event</code>, <code>first_event</code>, or <code>next_event</code>. This would be used with max interation.</td>
</tr>
<tr>
<td>max_<code>{interaction type&gt;</code>_date</td>
<td>string</td>
<td>false</td>
<td>Only returns organizations with the given interaction type below the given value. <code>interaction type</code> can be one of <code>first_email</code>, <code>last_email</code>, <code>last_interaction</code>, <code>last_event</code>, <code>first_event</code>, or <code>next_event</code>. This would be used with min interation.</td>
</tr>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 500.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code>next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>An object with two fields: <code>organizations</code> and <code>next_page_token</code>. <code>organizations</code> maps to
an array of all the organization resources that match the search criteria.
<code>next_page_token</code> includes a token to be sent along with the next request as the
<code>page_token</code> parameter to fetch the next page of results. When <code>with_interaction_dates</code> is
passed in the returned resources will have <code>interaction_dates</code> fields.</p>
<aside class="notice">
<h6>Note</h6>
<p>When <span class="bold">only</span> a search term is supplied, Affinity will search organization resources that are also outside of your instance.</p>
</aside>
<h2 id="get-a-specific-organization">Get a Specific Organization</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/organizations/64779194"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64779194</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"affinity.co"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"affinity.co"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"global"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">89734</span><span class="p">,</span><span class="w">
    </span><span class="mi">117270</span><span class="p">,</span><span class="w">
    </span><span class="mi">138123</span><span class="p">,</span><span class="w">
    </span><span class="mi">274492</span><span class="p">,</span><span class="w">
    </span><span class="mi">304848</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">389</span><span class="p">,</span><span class="w">
      </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38603</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64779194</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-11T02:26:56.537-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /organizations/{organization_id}</code></p>
<p>Fetches an organization with a specified <code>organization_id</code>.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the organization that needs to be retrieved.</td>
</tr>
<tr>
<td>with_interaction_dates</td>
<td>boolean</td>
<td>false</td>
<td>When true, interaction dates will be present on the returned resources.</td>
</tr>
<tr>
<td>with_interaction_persons</td>
<td>boolean</td>
<td>false</td>
<td>When true, persons for each interaction will be returned. Used in conjunction with <code>with_interaction_dates</code></td>
</tr>
<tr>
<td>with_opportunities</td>
<td>boolean</td>
<td>false</td>
<td>When true, opportunity IDs associated with this organization will be returned.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The organization object corresponding to the <code>organization_id</code>.</p>
<h2 id="create-a-new-organization">Create a New Organization</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/organizations"</span> <span class="se">\</span>
   <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   <span class="nt">-d</span> <span class="s1">'{"name": "Acme Corporation", "domain": "acme.co", "person_ids": [38706]}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">120611418</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme Corporation"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acme.co"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"acme.co"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"global"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /organizations</code></p>
<p>Creates a new organization with the supplied parameters.</p>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>The name of the organization.</td>
</tr>
<tr>
<td>domain</td>
<td>string</td>
<td>false</td>
<td>The domain name of the organization.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of persons that the new organization will be associated with.</td>
</tr>
</tbody></table>
<h3 id="returns-3">Returns</h3>
<p>The organization resource that was just created by a successful request.</p>
<aside class="notice">
<h6>Notes</h6>
<p>If you are looking to add an existing organization to a list, please check the <a href="#list-entries">List Entries</a> section of the API.</p>
</aside>
<h2 id="update-an-organization">Update an Organization</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PUT <span class="s2">"https://api.affinity.co/organizations/120611418"</span> <span class="se">\</span>
   <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   <span class="nt">-d</span> <span class="s1">'{"name": "Acme Corp.", "person_ids": [38706, 89734]}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">120611418</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme Corp."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acme.co"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"acme.co"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"global"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">,</span><span class="w"> </span><span class="mi">89734</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>PUT /organizations/{organization_id}</code></p>
<p>Updates an existing organization with <code>organization_id</code> with the supplied parameters.</p>
<h3 id="path-parameters-2">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the organization to be updated.</td>
</tr>
</tbody></table>
<h3 id="payload-parameters-2">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>false</td>
<td>The name of the organization.</td>
</tr>
<tr>
<td>domain</td>
<td>string</td>
<td>false</td>
<td>The domain name of the organization.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of persons that the organization will be associated with.</td>
</tr>
</tbody></table>
<h3 id="returns-4">Returns</h3>
<p>The organization resource that was just updated through a successful request.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>If you are looking to add an existing organization to a list, please check the <a href="#list-entries">List Entries</a> section of the API.</li>
<li>If you are trying to add a person to an organization, the existing values for <code>person_ids</code> must also be passed into the endpoint.</li>
</ul>
</aside>
<h2 id="delete-an-organization">Delete an Organization</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/organizations/120611418"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-X</span> <span class="s2">"DELETE"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /organizations/{organization_id}</code></p>
<p>Deletes an organization with a specified <code>organization_id</code>.</p>
<h3 id="path-parameters-3">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the organization that needs to be deleted.</td>
</tr>
</tbody></table>
<h3 id="returns-5">Returns</h3>
<p><code>{success: true}</code>.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>An appropriate error will be returned if you are trying to delete a <code>global</code> organization.</li>
<li>This will also delete all the field values, if any, associated with the organization. Such field values exist linked to either global or list-specific fields.</li>
</ul>
</aside>
<h2 id="get-global-organizations-fields">Get Global Organizations Fields</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/organizations/fields"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">662</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Potential Users"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leads"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2988</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Last Funding Date"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allows_multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dropdown_options"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /organizations/fields</code></p>
<p>Fetches an array of all the global fields that exist on organizations.
If you aren't sure about what fields are, please read the
<a href="#fields">Fields</a> section first.</p>
<h3 id="parameters">Parameters</h3>
<p>None.</p>
<h3 id="returns-6">Returns</h3>
<p>An array of the fields that exist on all organizations for your team.</p>
<h1 id="opportunities">Opportunities</h1>
<p>An opportunity in Affinity represents a potential future sale or deal for your team. It
can have multiple people - your team's main points of contacts for the opportunity - and
organization(s) associated with it. Opportunities are generally used to track the progress
of and revenue generated from sales and deals in your pipeline with a specific organization.</p>
<p>Unlike people and organizations, an opportunity can only belong to a single list and, thus,
does not have global fields. This list must be provided at the creation of the opportunity.
If the list or list entry containing the opportunity gets deleted, then the opportunity subsequently gets
deleted. If a user does not have permission to access a list with opportunities, the user cannot view
any of those opportunities.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>If you are looking to remove an opportunity from a list, note that deleting an opportunity is the same as removing an opportunity from a list because an opportunity can only exist on a single list with a single list entry.</li>
<li>If you are looking to modify a field value (one of the cells on Affinity's spreadsheet), please check out the <a href="#field-values">Field Values</a> section of the API.</li>
</ul>
</aside>
<h2 id="the-opportunity-resource">The Opportunity Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity Opportunity"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">21442</span><span class="p">],</span><span class="w">
  </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">442313</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
      </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4974</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-03T23:02:46.412-08:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Each opportunity object has a unique <code>id</code>. It also has a <code>name</code>, <code>persons_ids</code> and
<code>organization_ids</code> associated with it, and an array of <code>list_entries</code>. An important attribute to note
is <code>list_entries</code>. Because an opportunity can only belong to a single list, <code>list_entries</code>
can only have one list entry.</p>
<p>Of course, all fields can be modified and the opportunity can be deleted.</p>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the opportunity object.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the opportunity (see below).</td>
</tr>
<tr>
<td>person_ids</td>
<td>number[]</td>
<td>An array of unique identifiers for persons that are associated with the opportunity</td>
</tr>
<tr>
<td>organization_ids</td>
<td>number[]</td>
<td>An array of unique identifiers for organizations that are associated with the opportunity</td>
</tr>
<tr>
<td>list_entries</td>
<td>ListEntry[]</td>
<td>An array of list entry resources associated with the opportunity (at most 1 list entry). If the user corresponding to the API key does not have access to the list, this will be empty.</td>
</tr>
</tbody></table>
<h2 id="search-for-opportunities">Search for Opportunities</h2>
<p><code>GET /opportunities</code></p>
<p>Searches your team's data and fetches all the opportunities that meet the search criteria.
The search term can be a part of an opportunity's name.</p>
<p>This result is paginated. An initial request returns an object with two fields:
<code>opportunities</code> and <code>next_page_token</code>. <code>opportunities</code> contains an array of opportunity
resources. The value of <code>next_page_token</code> should be sent as the query parameter
<code>page_token</code> in another request to retrieve the next page of results. While paginating
through results, each request must have identical query parameters other than the changing
<code>page_token</code>. Otherwise, an <code>Invalid page_token variable</code> error will be returned.</p>
<p>The absence of a <code>next_page_token</code> indicates that all the records have been fetched,
though its presence does not necessarily indicate that there are <em>more</em> resources to be
fetched. The next page may be empty (but then <code>next_page_token</code> would be <code>null</code> to
confirm that there are no more resources).</p>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/opportunities?term=affinity"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"opportunities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity Opportunity"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">3526824</span><span class="p">],</span><span class="w">
      </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">128367168</span><span class="p">],</span><span class="w">
      </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">442313</span><span class="p">,</span><span class="w">
          </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1124736</span><span class="p">,</span><span class="w">
          </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4974</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-03T23:02:46.412-08:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity Opportunity 2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">5326214</span><span class="p">],</span><span class="w">
      </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">128367168</span><span class="p">],</span><span class="w">
      </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">442421</span><span class="p">,</span><span class="w">
          </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1124736</span><span class="p">,</span><span class="w">
          </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4974</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-08T23:02:46.412-08:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="p">],</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example pagination</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># To get the second page of results, issue the following query:</span>
curl <span class="s2">"https://api.affinity.co/opportunities?term=affinity&amp;page_token=eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div><h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>term</td>
<td>string</td>
<td>false</td>
<td>A string used to search all the opportunities in your team's database. This could be part of a name.</td>
</tr>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 500.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code>next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>An object with two fields: <code>opportunities</code> and <code>next_page_token</code>. <code>opportunities</code> maps to
an array of all the opportunity resources that match the search criteria.
<code>next_page_token</code> includes a token to be sent along with the next request as the
<code>page_token</code> parameter to fetch the next page of results.</p>
<h2 id="get-a-specific-opportunity">Get a Specific Opportunity</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/opportunities/117"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity Opportunity"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">3526824</span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">128367168</span><span class="p">],</span><span class="w">
  </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">442313</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1124736</span><span class="p">,</span><span class="w">
      </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4974</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-03T23:02:46.412-08:00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /opportunities/{opportunity_id}</code></p>
<p>Fetches an opportunity with a specified <code>opportunity_id</code>.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the opportunity that needs to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The opportunity object corresponding to the <code>opportunity_id</code>.</p>
<h2 id="create-a-new-opportunity">Create a New Opportunity</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/opportunities"</span> <span class="se">\</span>
   <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
   <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   <span class="nt">-d</span> <span class="s1">'{"name": "Penny Opportunity", "list_id": 6645, "person_ids": [38706], "organization_ids": [21442]}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">120611418</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Penny Opportunity"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">21442</span><span class="p">],</span><span class="w">
  </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">999886</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1127776</span><span class="p">,</span><span class="w">
      </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6645</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-07T16:32:35.794-08:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /opportunities</code></p>
<p>Creates a new opportunity with the supplied parameters.</p>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>The name of the opportunity.</td>
</tr>
<tr>
<td>list_id</td>
<td>integer</td>
<td>true</td>
<td>An unique identifier of the list that the new opportunity will be associated with. This list must be of type opportunity.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of persons that the new opportunity will be associated with.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of organizations that the new opportunity will be associated with.</td>
</tr>
</tbody></table>
<h3 id="returns-3">Returns</h3>
<p>The opportunity resource that was just created by a successful request (without <code>person_ids</code> and <code>organization_ids</code>).</p>
<h2 id="update-an-opportunity">Update an Opportunity</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/opportunities/120611418"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"name": "Penny Opp", "person_ids": [38706, 89734]}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">120611418</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Penny Opp"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">,</span><span class="w"> </span><span class="mi">89734</span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">21442</span><span class="p">],</span><span class="w">
  </span><span class="nl">"list_entries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">999886</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1127776</span><span class="p">,</span><span class="w">
      </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6645</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-07T16:32:35.794-08:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>PUT /opportunities/{opportunity_id}</code></p>
<p>Updates an existing opportunity with <code>opportunity_id</code> with the supplied parameters.</p>
<h3 id="path-parameters-2">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the opportunity to be updated.</td>
</tr>
</tbody></table>
<h3 id="payload-parameters-2">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>false</td>
<td>The name of the opportunity.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of persons that the opportunity will be associated with.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>false</td>
<td>An array of unique identifiers of organizations that the opportunity will be associated with.</td>
</tr>
</tbody></table>
<h3 id="returns-4">Returns</h3>
<p>The opportunity resource that was just updated through a successful request.</p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>If you are trying to add a person to an opportunity, the existing values for <code>person_ids</code> must also be passed into the endpoint.</li>
<li>If you are trying to add an organization to an opportunity, the existing values for <code>organization_ids</code> must also be passed into the endpoint.</li>
</ul>
</aside>
<h2 id="delete-an-opportunity">Delete an Opportunity</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/opportunities/120611418"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-X</span> <span class="s2">"DELETE"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /opportunities/{opportunity_id}</code></p>
<p>Deletes an opportunity with a specified <code>opportunity_id</code>.</p>
<h3 id="path-parameters-3">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the opportunity that needs to be deleted.</td>
</tr>
</tbody></table>
<h3 id="returns-5">Returns</h3>
<p><code>{success: true}</code>.</p>
<aside class="notice">
<h6>Note</h6>
<p>This will also delete all the field values, if any, associated with the opportunity.</p>
</aside>
<h1 id="interactions">Interactions</h1>
<p>The interactions API allows you to manage interactions.</p>
<h2 id="the-interactions-resource">The Interactions Resource</h2>
<p>Different types of interactions have different interaction resources.
Note the combination of ID and type for an interaction is unique.</p>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">#</span><span class="w"> </span><span class="err">Meeting/Call</span><span class="w"> </span><span class="err">type</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-22T11:15:29.758-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3007</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attendees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"yen@alice.com"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-22T11:15:29.758-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"manual_creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manually logged event"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">7</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"persons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"john@affinity.co"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"yen@alice.com"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">#</span><span class="w"> </span><span class="err">Chat</span><span class="w"> </span><span class="err">message</span><span class="w"> </span><span class="err">type</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7267</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-22T11:50:20.126-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"manual_creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
    </span><span class="nl">"persons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"john@affinity.co"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"yen@alice.com"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">7462534</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">#</span><span class="w"> </span><span class="err">Email</span><span class="w"> </span><span class="err">type</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-04T09:43:39.717-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">417</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John &lt;-&gt; Alice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"john@affinity.co"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"yen@alice.com"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The identifier of the interaction. Note the ID is not unique across different types of interactions.</td>
</tr>
<tr>
<td>manual_creator_id</td>
<td>integer</td>
<td>The unique identifier of the person object who created the interaction.</td>
</tr>
<tr>
<td>persons</td>
<td>object[]</td>
<td>The list of persons who are associated with the interaction.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>The type of interaction. This can be one of many values, as described in the table below.</td>
</tr>
<tr>
<td>logging_type</td>
<td>integer</td>
<td>The logging type of interaction.</td>
</tr>
<tr>
<td>attendees</td>
<td>string[]</td>
<td>The list of person emails that attended the event.</td>
</tr>
<tr>
<td>date</td>
<td>datetime</td>
<td>The time when the interaction happens.</td>
</tr>
<tr>
<td>start_time</td>
<td>datetime</td>
<td>The time when event starts.</td>
</tr>
<tr>
<td>end_time</td>
<td>datetime</td>
<td>The time when event ends.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>The title of event.</td>
</tr>
<tr>
<td>notes</td>
<td>integer[]</td>
<td>The list of note IDs that are associated with the event.</td>
</tr>
<tr>
<td>direction</td>
<td>integer</td>
<td>The direction of the interaction. Only relevant for <code>type == 2</code> and <code>type == 3</code>. This can be one of two values, as described in the table below.</td>
</tr>
</tbody></table>
<h3 id="interactions-types">Interactions Types</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Meeting</td>
<td>0</td>
<td>Type specifying a meeting interaction.</td>
</tr>
<tr>
<td>Call</td>
<td>1</td>
<td>Type specifying a call interaction.</td>
</tr>
<tr>
<td>Chat message</td>
<td>2</td>
<td>Type specifying a chat message interaction.</td>
</tr>
<tr>
<td>Email</td>
<td>3</td>
<td>Type specifying a email interaction.</td>
</tr>
</tbody></table>
<h3 id="direction-types">Direction Types</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Sent</td>
<td>0</td>
<td>The interaction is sent by an internal person.</td>
</tr>
<tr>
<td>Received</td>
<td>1</td>
<td>The interaction is sent by an external person.</td>
</tr>
</tbody></table>
<h3 id="logging-types">Logging Types</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>All</td>
<td>0</td>
<td>Type specifying both automatically logged interactions and manually logged interactions.</td>
</tr>
<tr>
<td>Manual</td>
<td>1</td>
<td>Type specifying only manually logged interactions</td>
</tr>
</tbody></table>
<h2 id="get-all-interactions">Get All Interactions</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/interactions?organization_id=1609909&amp;type=3&amp;start_time=2021-01-01T07:00:00Z&amp;end_time=2021-02-25T21:00:00Z&amp;"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-04T09:43:39.717-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">417</span><span class="p">,</span><span class="w">
      </span><span class="nl">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John &lt;-&gt; Alice"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"john@affinity.co"</span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"yen@alice.com"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-02T12:55:19.801-08:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">265</span><span class="p">,</span><span class="w">
      </span><span class="nl">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alfred &lt;-&gt; Alice"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1012</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alfred"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hickey"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alfredhickeyshmcneax@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"alfredhickeyshmcneax@affinity.co"</span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"yen@alice.com"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnsiY29tcGxldGVyX2lkIjpudWxsLCJvd25lcl9pZCI6bnVsbCwiY3JlYXRvcl9"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /interactions</code></p>
<p>Returns all interactions that meet the query parameters.</p>
<h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>integer</td>
<td>true</td>
<td>The type of interactions to be retrieved.</td>
</tr>
<tr>
<td>logging_type</td>
<td>integer</td>
<td>false</td>
<td>The logging type of interactions to be retrieved.</td>
</tr>
<tr>
<td>person_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique identifier that represents an external Person that was involved in the interactions.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique identifier that represents an Organization that was involved in the interactions.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>custom*</td>
<td>A unique identifier that represents an Opportunity that was involved in the interactions.</td>
</tr>
<tr>
<td>internal_person_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an internal person that was involved in the interactions.Thi parameter cannot be used to find all of an internal person's interactions. It only filters down the set of interactions related to the given external person, organization, or opportunity  to the interactions in which the given internal person was involved.</td>
</tr>
<tr>
<td>direction</td>
<td>integer</td>
<td>false</td>
<td>The direction of the interactions. Only applies to chat message and email.</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>true</td>
<td>A string (formatted according to <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) representing the start of the time range for the interactions to be retrieved. Must be before <code>end_time</code>. Date range must not exceed one year.</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>true</td>
<td>A string (formatted according to <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) representing the end of the time range for the interactions to be retrieved. Must be after <code>start_time</code>. Date range must not exceed one year.</td>
</tr>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 100.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code>next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>One <code>person_id</code>, <code>organization_id</code> or <code>opportunity_id</code> must be specified per request.</li>
<li>Only one <code>type</code> of interaction can be specified per request.</li>
<li>An error will be returned if an internal person is used in the <code>person_id</code> parameter.</li>
</ul>
</aside>
<h3 id="returns">Returns</h3>
<p>An array of all the interactions filtered by query parameters. <code>next_page_token</code> includes a
token to be sent along with the next request as the <code>page_token</code> parameter to fetch
the next page of results.</p>
<aside class="notice">
<h6>Note</h6>
<p>Interactions in the API response may not be visible on a CRM profile page if they have the exact same timestamp as another interaction.</p>
</aside>
<h2 id="get-a-specific-interaction">Get a Specific Interaction</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Returns the interactions with the specified `id`</span>
curl <span class="s2">"https://api.affinity.co/interactions/15326?type=2"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7267</span><span class="p">,</span><span class="w">
  </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-22T11:50:20.126-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"manual_creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">64056952</span><span class="p">,</span><span class="w">
  </span><span class="nl">"persons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"john@affinity.co"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"yen@alice.com"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">7462534</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /interactions/{id}</code></p>
<p>Gets the details for a specific interaction given the existing ID and type.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>true</td>
<td>The identifier of the interaction object to be retrieved.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>true</td>
<td>The type of interaction to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The details of the interaction corresponding to the ID and type specified in the path
parameter. An appropriate error is returned if an invalid ID and type are supplied.</p>
<h2 id="create-a-new-interaction">Create a New Interaction</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/interactions"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"person_ids": [443, 2021], "type": 0, "date": "2021-02-07T10:56:29.546-08:00", "content": "Create interaction from external API."}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-07T10:56:29.546-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3007</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attendees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-07T10:56:29.546-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"manual_creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manually logged event"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">7</span><span class="p">],</span><span class="w">
  </span><span class="nl">"persons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"john@affinity.co"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"yen@alice.com"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /interactions</code></p>
<p>Creates a new interaction with the supplied parameters.</p>
<h3 id="path-parameters-2">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>integer</td>
<td>true</td>
<td>The type of interaction to be created. Only meetings (<code>type == 0</code>), calls (<code>type == 1</code>) and chat messages (<code>type == 2</code>) are supported.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>true</td>
<td>The list of person IDs that are associated with the event. At least one internal person ID must be included (see <a href="#the-person-resource">Person Resource</a> for more details on internal persons).</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>true</td>
<td>The string containing the content of the new interaction.</td>
</tr>
<tr>
<td>direction</td>
<td>integer</td>
<td>false</td>
<td>The direction of the chat message to be created. Only applies to chat messages (<code>type == 2</code>).</td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>true</td>
<td>A string (formatted according to <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) representing the date time the interaction occurred.</td>
</tr>
</tbody></table>
<h3 id="returns-3">Returns</h3>
<p>The interaction created through this request.</p>
<aside class="notice">
<h6>Note</h6>
<p>When creating an interaction using the API, the user corresponding to the API token will be the creator by default.</p>
</aside>
<h2 id="update-an-interaction">Update an Interaction</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PUT <span class="s2">"https://api.affinity.co/interactions/3007"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"type": 0, "date": "2022-02-07T10:56:29.546-08:00", "content": "Update interaction from external API."}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-07T10:56:29.546-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3007</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attendees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-07T10:56:29.546-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"manual_creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manually logged event"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">7</span><span class="p">],</span><span class="w">
  </span><span class="nl">"persons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"john@affinity.co"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"yen@alice.com"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>PUT /interactions/{id}</code></p>
<p>Updates the content of an existing interaction with the supplied parameters.</p>
<aside class="notice">
<h6>Note</h6>
<p>Updating the content of an interaction using the API is not supported when mentioned IDs are in the content.</p>
</aside>
<h3 id="path-parameters-3">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>true</td>
<td>The ID of the interaction to be updated.</td>
</tr>
</tbody></table>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>integer</td>
<td>true</td>
<td>The type of interaction to be updated.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>true</td>
<td>The list of person IDs that are associated with the event.</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>false</td>
<td>The string containing the content of the interaction.</td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>false</td>
<td>A string (formatted according to <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) representing the date time the interaction occurred.</td>
</tr>
</tbody></table>
<h3 id="returns-4">Returns</h3>
<p>The interaction object that was just updated through this request.</p>
<h2 id="delete-an-interaction">Delete an Interaction</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/interactions/22984?type=0"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-X</span> <span class="s2">"DELETE"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /interactions/{id}</code></p>
<p>Deletes the interaction with the specified <code>id</code>.</p>
<h3 id="path-parameters-4">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the interaction to be deleted.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>true</td>
<td>The type of interaction to be deleted.</td>
</tr>
</tbody></table>
<h3 id="returns-5">Returns</h3>
<p><code>{success: true}</code>.</p>
<h1 id="relationship-strengths">Relationship Strengths</h1>
<p>Affinity calculates relationship strengths between internal and external people based on
previous interactions (emails, logged calls, calendar events).</p>
<p>A higher numeric value means that the relationship strength between the two people is
higher. Emails, calls, and meetings don't tell the whole story of a relationship, so treat
the strength as an estimate.</p>
<p>Relationship strengths are usually recalculated daily.</p>
<h2 id="the-relationship-strength-resource">The Relationship Strength Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"internal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
  </span><span class="nl">"strength"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The relationship strength resource specifies the two <a href="#persons">Persons</a> the relationship
strength is about, along with the actual value.</p>
<p>There may be at most one resource for
every (internal, external) pair. If an internal and external person have no previous
interactions, there may be no relationship strength resource for the pair.</p>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>internal_id</td>
<td>integer</td>
<td>The internal person associated with this relationship strength.</td>
</tr>
<tr>
<td>external_id</td>
<td>integer</td>
<td>The external person associated with this relationship strength.</td>
</tr>
<tr>
<td>strength</td>
<td>float</td>
<td>The actual relationship strength. This is currently a number between 0 and 1, but may change in the future.</td>
</tr>
</tbody></table>
<h2 id="get-relationship-strength">Get Relationship Strength</h2>
<p><code>GET /relationships-strengths</code></p>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Returns an array relationship strengths matching the criteria.</span>
curl <span class="s2">"https://api.affinity.co/relationships-strengths?external_id=1234&amp;internal_id=2345"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"internal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strength"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Returns an array relationship strengths matching the criteria.</span>
curl <span class="s2">"https://api.affinity.co/relationships-strengths?external_id=1234"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"internal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strength"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"internal_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3456</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strength"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>internal_id</td>
<td>integer</td>
<td>false</td>
<td>The internal person associated with this relationship strength.</td>
</tr>
<tr>
<td>external_id</td>
<td>integer</td>
<td>true</td>
<td>The external person associated with this relationship strength.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>An array of the relationship strengths matching the criteria.</p>
<p>If an <code>internal_id</code> is given, returns the relationship strength between the given internal
and external person. The returned list will have a length of 1 or 0 (if no relationship
strength is available between the two people).</p>
<p>If no <code>internal_id</code> is given, returns the relationship strengths between all internal
people and the given external person. The results are not guaranteed to be sorted in any
way.</p>
<h1 id="notes">Notes</h1>
<p>Just like field values, notes are used to keep track of state on an entity. They could be
notes manually taken from due diligence, a meeting, or a call. Or, notes could be used to
store logged activity from a prospect's visit to your website.</p>
<h2 id="the-note-resource">The Note Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22984</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38708</span><span class="p">,</span><span class="w"> </span><span class="mi">24809</span><span class="p">,</span><span class="w"> </span><span class="mi">89203</span><span class="p">,</span><span class="w"> </span><span class="mi">97304</span><span class="p">],</span><span class="w">
  </span><span class="nl">"associated_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38708</span><span class="p">,</span><span class="w"> </span><span class="mi">24809</span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">89203</span><span class="p">,</span><span class="w"> </span><span class="mi">97304</span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">114</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interaction_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_meeting"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mentioned_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">49817</span><span class="p">,</span><span class="w"> </span><span class="mi">78624</span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
  </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">117</span><span class="p">],</span><span class="w">
  </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Had a lunch meeting with Jane and John today. They are looking to invest."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T00:38:41.275-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-03T00:22:25.612-08:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A note object contains <code>content</code>, which is a string containing the note body. In
addition, a note can be associated with multiple people, organizations, or opportunities.
Each person, organization, or opportunity will display linked notes on their profiles.</p>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the note object.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>The unique identifier of the person object who created the note.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>An array containing the unique identifiers for all the persons relevant to the note. This is the union of <code>associated_person_ids</code> and <code>interaction_person_ids</code>.</td>
</tr>
<tr>
<td>associated_person_ids</td>
<td>integer[]</td>
<td>An array containing the unique identifiers for the persons directly associated with the note.</td>
</tr>
<tr>
<td>interaction_person_ids</td>
<td>integer[]</td>
<td>An array containing the unique identifiers for the persons on the interaction the note is attached to, if any. This will be an empty array if there is no such interaction or there arent any attendees.</td>
</tr>
<tr>
<td>interaction_id</td>
<td>integer</td>
<td>The unique identifier of the interaction the note is attached to, if any.</td>
</tr>
<tr>
<td>interaction_type</td>
<td>integer</td>
<td>The type of the interaction the note is attached to, if any.</td>
</tr>
<tr>
<td>is_meeting</td>
<td>boolean</td>
<td>True if the note is attached to a meeting or a call.</td>
</tr>
<tr>
<td>mentioned_person_ids</td>
<td>integer[]</td>
<td>An array containing the unique identifiers for the persons who are @ mentioned in the note. If there are no mentioned persons, this will be an empty array.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of organization objects that are associated with the note.</td>
</tr>
<tr>
<td>opportunity_ids</td>
<td>integer[]</td>
<td>An array of unique identifiers of opportunity objects that are associated with the note.</td>
</tr>
<tr>
<td>parent_id</td>
<td>integer</td>
<td>The unique identifier of the note that this note is a reply to. If this field is <code>null</code>, the note is not a reply. Note replies will never have values for <code>opportunity_ids</code>, <code>person_ids</code>, and <code>organization_ids</code>. Only the parent note is associated with an entity. You can fetch the parent note resource to identify the root entity.</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>The string containing the content of the note.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>The type of the note. The supported types for new note creation via API are 0 and 2, which represent plain text and HTML notes, respectively. Notes with type 3 are AI meeting summaries generated by <a href="https://support.affinity.co/hc/en-us/articles/19495299764365-How-to-set-up-use-Affinity-Notetaker">Affinity Notetaker</a>, and can only be created by the system. Users may also encounter existing notes with type 1, which represents notes created directly from email messages (this creation method is now deprecated).</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The string representing the time when the note was created.</td>
</tr>
<tr>
<td>updated_at</td>
<td>datetime</td>
<td>The string representing the last time the note was updated.</td>
</tr>
</tbody></table>
<h3 id="formatting-content-as-html">Formatting <code>content</code> as HTML</h3>
<blockquote>
<p>Example <code>content</code> payload</p>
</blockquote>
<div class="highlight"><pre class="highlight html tab-html"><code><span class="nt">&lt;p&gt;</span>
  This is normal text. <span class="nt">&lt;strong&gt;</span> But this is bold! <span class="nt">&lt;/strong&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">"color: rgb(255, 0, 0);"</span><span class="nt">&gt;</span> And this is red! <span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>
</code></pre></div>
<p>If you would like to format your notes, create them with <code>type</code> equal to <code>2</code>, as described in <a href="#create-a-new-note">Create a New Note</a>. All currently supported formatting options are described below.</p>
<table><thead>
<tr>
<th>Style</th>
<th>Formatting</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>Paragraph</td>
<td><code>&lt;p&gt;</code> element</td>
<td><code>&lt;p&gt;I am a paragraph!&lt;/p&gt;</code></td>
</tr>
<tr>
<td>Bold</td>
<td><code>&lt;strong&gt;</code> element</td>
<td><code>&lt;p&gt;&lt;strong&gt;This text is bold&lt;/strong&gt;&lt;/p&gt;</code></td>
</tr>
<tr>
<td>Italics</td>
<td><code>&lt;em&gt;</code> element</td>
<td><code>&lt;p&gt;&lt;em&gt;This text is italicized&lt;/em&gt;&lt;/p&gt;</code></td>
</tr>
<tr>
<td>Underlined</td>
<td><code>&lt;u&gt;</code> element</td>
<td><code>&lt;p&gt;&lt;u&gt;This text is underlined&lt;/u&gt;&lt;/p&gt;</code></td>
</tr>
<tr>
<td>Ordered lists</td>
<td><code>&lt;ol&gt;</code> + <code>&lt;li&gt;</code> elements</td>
<td><code>&lt;ol&gt;&lt;li&gt;First item&lt;/li&gt;&lt;li&gt;Second item&lt;/li&gt;&lt;/ol&gt;</code></td>
</tr>
<tr>
<td>Unordered lists</td>
<td><code>&lt;ul&gt;</code> + <code>&lt;li&gt;</code> elements</td>
<td><code>&lt;ul&gt;&lt;li&gt;An item&lt;/li&gt;&lt;li&gt;Another item&lt;/li&gt;&lt;/ul&gt;</code></td>
</tr>
<tr>
<td>Background color</td>
<td><code>background-color</code> inline style</td>
<td><code>&lt;p&gt;&lt;span style="background-color: rgb(255, 0, 0);"&gt; The background is red&lt;/span&gt;&lt;/p&gt;</code></td>
</tr>
<tr>
<td>Font color</td>
<td><code>color</code> inline style</td>
<td><code>&lt;p&gt;&lt;span style="color: rgb(255, 0, 0);"&gt; The text color is red&lt;/span&gt;&lt;/p&gt;</code></td>
</tr>
</tbody></table>
<h2 id="get-all-notes">Get All Notes</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/notes"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22984</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
    </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38706</span><span class="p">,</span><span class="mi">89734</span><span class="p">],</span><span class="w">
    </span><span class="nl">"is_meeting"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentioned_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">49817</span><span class="p">,</span><span class="w"> </span><span class="mi">78624</span><span class="p">],</span><span class="w">
    </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
    </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">117</span><span class="p">],</span><span class="w">
    </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Had a lunch meeting with Jane ... "</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T00:38:41.275-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-03T00:22:25.612-08:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22983</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860196</span><span class="p">,</span><span class="w">
    </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"is_meeting"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentioned_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">7237</span><span class="p">],</span><span class="w">
    </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
    </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">115</span><span class="p">],</span><span class="w">
    </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Had a **lunch meeting** @ Google ... "</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T00:38:41.275-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /notes</code></p>
<p>Returns all notes attached to a <code>person</code>, <code>organization</code>, <code>opportunity</code>.</p>
<h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents a Person that was either directly attached to the retrieved notes or attended an interaction that the retrieved notes were taken on.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an Organization that was directly attached to the retrieved notes.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an Opportunity that was directly attached to retrieved notes.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an Affinity user whose created notes should be retrieved.</td>
</tr>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 500.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code>next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>An array of all the note resources available to you.</p>
<h2 id="get-a-specific-note">Get a Specific Note</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Returns the note with the specified `note_id`</span>
curl <span class="s2">"https://api.affinity.co/notes/22984"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22984</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38708</span><span class="p">,</span><span class="w"> </span><span class="mi">24809</span><span class="p">,</span><span class="w"> </span><span class="mi">89203</span><span class="p">,</span><span class="w"> </span><span class="mi">97304</span><span class="p">],</span><span class="w">
  </span><span class="nl">"associated_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38708</span><span class="p">,</span><span class="w"> </span><span class="mi">24809</span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">89203</span><span class="p">,</span><span class="w"> </span><span class="mi">97304</span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">114</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interaction_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_meeting"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mentioned_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">49817</span><span class="p">,</span><span class="w"> </span><span class="mi">78624</span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
  </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">117</span><span class="p">],</span><span class="w">
  </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Had a lunch meeting with Jane ... "</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T00:38:41.275-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-03T00:22:25.612-08:00"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre></div>
<p><code>GET /notes/{note_id}</code></p>
<p>Gets the details for a specific note given the existing note id.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>note_id</td>
<td>integer</td>
<td>true</td>
<td>The unique identifier of the note object to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The details of the note resource corresponding to the note ID specified in the path
parameter. An appropriate error is returned if an invalid note is supplied.</p>
<h2 id="create-a-new-note">Create a New Note</h2>
<blockquote>
<p>Example Request (JSON)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/notes"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"person_ids": [38706, 624289], "organization_ids": [120611418], "opportunity_ids": [167], "content": "Had a lunch meeting with Jane and John today. They want to invest in Acme Corp."}'</span>
</code></pre></div>
<blockquote>
<p>Example Request (Form)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/notes"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"person_ids[]=38706&amp;person_ids[]=624289&amp;organization_ids[]=120611418&amp;opportunity_ids[]=167&amp;content=Had a lunch meeting with Jane and John today. They want to invest in Acme Corp."</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22985</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38708</span><span class="p">,</span><span class="w"> </span><span class="mi">24809</span><span class="p">,</span><span class="w"> </span><span class="mi">89203</span><span class="p">,</span><span class="w"> </span><span class="mi">97304</span><span class="p">],</span><span class="w">
  </span><span class="nl">"associated_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38708</span><span class="p">,</span><span class="w"> </span><span class="mi">24809</span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">89203</span><span class="p">,</span><span class="w"> </span><span class="mi">97304</span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">114</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interaction_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_meeting"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mentioned_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
  </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">117</span><span class="p">],</span><span class="w">
  </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Had a lunch meeting with Jane ... "</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T00:38:41.275-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example Request Creating An HTML-Type Note (JSON)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/notes"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"person_ids": [38706, 624289], "organization_ids": [120611418], "opportunity_ids": [167], "type": 2, "content": "Had a &lt;strong&gt;lunch meeting&lt;strong&gt; with Jane and John today. They want to invest in Acme Corp."}'</span>
</code></pre></div>
<blockquote>
<p>Example Request Creating An HTML-Type Note (Form)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/notes"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"person_ids[]=38706&amp;person_ids[]=624289&amp;organization_ids[]=120611418&amp;opportunity_ids[]=167&amp;type=2&amp;content=Had a &lt;strong&gt;lunch meeting&lt;strong&gt; with Jane and John today. They want to invest in Acme Corp."</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22986</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38708</span><span class="p">,</span><span class="w"> </span><span class="mi">24809</span><span class="p">,</span><span class="w"> </span><span class="mi">89203</span><span class="p">,</span><span class="w"> </span><span class="mi">97304</span><span class="p">],</span><span class="w">
  </span><span class="nl">"associated_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38708</span><span class="p">,</span><span class="w"> </span><span class="mi">24809</span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">89203</span><span class="p">,</span><span class="w"> </span><span class="mi">97304</span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">114</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interaction_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_meeting"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mentioned_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
  </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">117</span><span class="p">],</span><span class="w">
  </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Had a **lunch meeting** with Jane ... "</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T00:38:41.275-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example Request with parent_id</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/notes"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"person_ids": [38706], "organization_ids": [120611418], "parent_id": 22984, "content": "This is a &lt;strong&gt; reply &lt;/strong&gt;to the previous note.", "type":2}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22987</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"associated_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"interaction_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"interaction_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interaction_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_meeting"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mentioned_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22984</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a reply to the previous note. Because a parent_id was supplied, the supplied person_ids, organization_ids, and opportunity_ids were ignored."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-29T00:38:41.275-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /notes</code></p>
<p>Creates a new note with the supplied parameters.</p>
<p>Set the <code>type</code> parameter to 2 to create an HTML note. See <a href="https://support.affinity.co/hc/en-us/articles/360016292631-Rich-text-formatting-for-notes-within-Affinity">here</a> for more information on the sorts of rich text formatting we support in notes. Please note that <code>&lt;a&gt;</code> tags aren't currently clickable inside the Affinity web app  though full links are.</p>
<p>It is possible to create a <strong>reply</strong> to an existing note by setting <code>parent_id</code>. The parent note should not have a <code>parent_id</code> itself. It is possible for a single parent note to have multiple reply notes  They just get displayed in order of creation. <code>opportunity_ids</code>, <code>person_ids</code>, and <code>organization_ids</code> will be ignored when a <code>parent_id</code> is provided.</p>
<h3 id="path-parameters-2">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>content</td>
<td>string</td>
<td>true</td>
<td>The string containing the content of the new note. See <a href="#formatting-content-as-html">formatting options</a> for HTML support.</td>
</tr>
<tr>
<td>person_ids</td>
<td>integer[]</td>
<td>custom*</td>
<td>An array of unique identifiers of person objects that are associated with the new note.</td>
</tr>
<tr>
<td>organization_ids</td>
<td>integer[]</td>
<td>custom*</td>
<td>An array of unique identifiers of organization objects that are associated with the new note.</td>
</tr>
<tr>
<td>opportunity_ids</td>
<td>integer[]</td>
<td>custom*</td>
<td>An array of unique identifiers of opportunity objects that are associated with the new note.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>false</td>
<td>The type of the new note. Defaults to 0. The types 0 and 2 represent plain text and HTML notes, respectively. If submitting as HTML, see the <a href="#formatting-content-as-html">formatting options</a>.</td>
</tr>
<tr>
<td>parent_id</td>
<td>integer</td>
<td>custom*</td>
<td>The unique identifier of the note to which the newly created note should reply. See comments above.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>false</td>
<td>The ID of a Person resource who should be recorded as the author of the note. Must be a person who can access Affinity. If not provided the creator defaults to the owner of the API key.</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>false</td>
<td>A string (formatted according to <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) representing the creation time to be recorded for the note. If not provided, defaults to the current time. Does not support times in the future.</td>
</tr>
</tbody></table>
<h3 id="returns-3">Returns</h3>
<p>The note resource created through this request.</p>
<aside class="notice">
<h6>Note</h6>
<p>At least one <code>person_id</code>, <code>organization_id</code>, <code>opportunity_id</code>, or <code>parent_id</code> must be specified to the endpoint.</p>
</aside>
<aside class="notice">
<h6>Note</h6>
<p>When creating a note using the API, the user corresponding to the API token will be the creator by default.</p>
</aside>
<aside class="notice">
<h6>Note</h6>
<p>To ensure that <code>content</code> gets encoded properly, it is recommended to submit as either <code>application/json</code> or <code>application/x-www-form-urlencoded</code> instead of query parameters.</p>
</aside>
<h2 id="update-a-note">Update a Note</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PUT <span class="s2">"https://api.affinity.co/notes/22984"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"content": "Had another meeting with Jane and John today"}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22984</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">860197</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38708</span><span class="p">,</span><span class="w"> </span><span class="mi">24809</span><span class="p">,</span><span class="w"> </span><span class="mi">89203</span><span class="p">,</span><span class="w"> </span><span class="mi">97304</span><span class="p">],</span><span class="w">
  </span><span class="nl">"associated_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">38708</span><span class="p">,</span><span class="w"> </span><span class="mi">24809</span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">89203</span><span class="p">,</span><span class="w"> </span><span class="mi">97304</span><span class="p">],</span><span class="w">
  </span><span class="nl">"interaction_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">114</span><span class="p">,</span><span class="w">
  </span><span class="nl">"interaction_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_meeting"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mentioned_person_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">49817</span><span class="p">,</span><span class="w"> </span><span class="mi">78624</span><span class="p">],</span><span class="w">
  </span><span class="nl">"organization_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">64779194</span><span class="p">],</span><span class="w">
  </span><span class="nl">"opportunity_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">117</span><span class="p">],</span><span class="w">
  </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Had another meeting with Jane ... "</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T00:38:41.275-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-03T00:22:25.612-08:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>PUT /notes/{notes_id}</code></p>
<p>Updates the content of an existing note with <code>note_id</code> with the supplied <code>content</code> parameter.</p>
<h3 id="path-parameters-3">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>note_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the note that needs to be updated.</td>
</tr>
</tbody></table>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>content</td>
<td>string</td>
<td>true</td>
<td>The new content of the note.</td>
</tr>
</tbody></table>
<h3 id="returns-4">Returns</h3>
<p>The note object that was just updated through this request.</p>
<aside class="notice">
<h6>Note</h6>
<p>You cannot update the content of a note that has mentions. You also cannot update the content of a note associated with an email.<br/>You cannot update the type of a note.</p>
</aside>
<h2 id="delete-a-note">Delete a Note</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/notes/22984"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-X</span> <span class="s2">"DELETE"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /notes/{note_id}</code></p>
<p>Deletes a note with a specified <code>note_id</code>.</p>
<h3 id="path-parameters-4">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>note_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the note that needs to be deleted.</td>
</tr>
</tbody></table>
<h3 id="returns-5">Returns</h3>
<p><code>{success: true}</code>.</p>
<aside class="notice">
<h6>Note</h6>
<p>An appropriate error will be returned if you are not the creator of the note you are trying to delete.</p>
</aside>
<h1 id="entity-files">Entity Files</h1>
<p>Entity files are files uploaded to a relevant entity. Possible files, for example, would be a pitch deck for an opportunity or a physical mail correspondence for a person.</p>
<h2 id="the-entity-file-resource">The Entity File Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43212</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JohnDoeFriends.csv"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">993</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"organization_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"opportunity_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-01-25T09:59:35.288-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"uploader_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the entity file object.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the file.</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>The size of the file in bytes.</td>
</tr>
<tr>
<td>person_id</td>
<td>integer</td>
<td>The unique identifier of the person corresponding to the entity file.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>The unique identifier of the organization corresponding to the entity file.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>The unique identifier of the opportunity corresponding to the entity file.</td>
</tr>
<tr>
<td>uploader_id</td>
<td>integer</td>
<td>The unique identifier of the user who created the entity file.</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The time when the entity file was created.</td>
</tr>
</tbody></table>
<h2 id="get-all-files">Get All Files</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/entity-files"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"entity_files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43212</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JohnDoeFriends.csv"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">993</span><span class="p">,</span><span class="w">
            </span><span class="nl">"person_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">142</span><span class="p">,</span><span class="w">
            </span><span class="nl">"organization_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"opportunity_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-01-25T09:59:35.288-08:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uploader_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">131</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Import.csv"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">227224</span><span class="p">,</span><span class="w">
            </span><span class="nl">"person_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38654</span><span class="p">,</span><span class="w">
            </span><span class="nl">"organization_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"opportunity_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-13T12:52:51.539-08:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uploader_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnt9LCJwYWdlX3NpemUiOjUwMCwib2Zmc2V0Ijo1MDB9"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example pagination</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># To get the second page of results, issue the following query:</span>
curl <span class="s2">"https://api.affinity.co/entity-files?page_token=eyJwYXJhbXMiOnsidGVybSI6IiJ9LCJwYWdlX3NpemUiOjUsIm9mZnNldCI6MTB9"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<p><code>GET /entity-files</code></p>
<p>Returns all entity files within your organization. This result will be
an object with two fields: <code>entity_files</code> and <code>next_page_token</code>. <code>entity_files</code> maps to an
array of all the entity file resources. The value of <code>next_page_token</code> should be sent as the
query parameter <code>page_token</code> in another request to retrieve the next page of results. While
paginating through results, each request must have identical query parameters other than the
changing <code>page_token</code>. Otherwise, an <code>Invalid page_token variable</code> error will be returned.</p>
<p>The absence of a <code>next_page_token</code> indicates that all the records have been fetched,
though its presence does not necessarily indicate that there are <em>more</em> resources to be
fetched. The next page may be empty (but then <code>next_page_token</code> would be <code>null</code> to
confirm that there are no more resources).</p>
<p>Can optionally be filtered to return only entity files associated with a specific <code>person</code>,
<code>organization</code>, or <code>opportunity</code>.</p>
<h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 500.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code>next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
<tr>
<td>person_id</td>
<td>integer</td>
<td>false</td>
<td>A unique ID that represents a Person whose associated files should be retrieved.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>false</td>
<td>A unique ID that represents an Organization whose associated files should be retrieved.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>false</td>
<td>A unique ID that represents an Opportunity whose associated files should be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>An object with two fields: <code>entity_files</code> and <code>next_page_token</code>. <code>entity_files</code> maps to an
array of all the entity file resources. See description for more details on pagination.</p>
<h2 id="get-a-specific-file">Get a Specific File</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/entity-files/43212"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43212</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GoogleFriends.csv"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">993</span><span class="p">,</span><span class="w">
  </span><span class="nl">"person_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"organization_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"opportunity_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-01-25T09:59:35.288-08:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"uploader_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /entity-files/{entity_file_id}</code></p>
<p>Fetches an entity with a specified <code>entity_file_id</code>.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>entity_file_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the entity file that needs to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The entity file resource corresponding to the <code>entity_file_id</code>.</p>
<h2 id="download-file">Download File</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/entity-files/download/12345"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-L</span> <span class="se">\</span>
  <span class="nt">-o</span> Downloads/file.png
</code></pre></div>
<p><code>GET /entity-files/download/{entity_file_id}</code></p>
<p>Downloads an entity file with a specified <code>entity_file_id</code></p>
<h3 id="path-parameters-2">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>entity_file_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the entity file that needs to be downloaded.</td>
</tr>
</tbody></table>
<h3 id="returns-3">Returns</h3>
<p>The actual entity file corresponding to the <code>entity_file_id</code>.</p>
<aside class="notice">
<h6>Notes</h6>
<p>The download location of entity files is provided via a redirect from our endpoint and requires the <code>-L</code> flag.</p>
</aside>
<h2 id="upload-files">Upload Files</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Single file upload</span>
curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/entity-files"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Content-Type: multipart/form-data'</span> <span class="se">\</span>
  <span class="nt">-F</span> <span class="nv">file</span><span class="o">=</span>@file.txt <span class="se">\</span>
  <span class="nt">-F</span> <span class="nv">person_id</span><span class="o">=</span>1
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Multi file upload</span>
curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/entity-files"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Content-Type: multipart/form-data'</span> <span class="se">\</span>
  <span class="nt">-F</span> <span class="s1">'files[]=@file1.txt'</span> <span class="se">\</span>
  <span class="nt">-F</span> <span class="s1">'files[]=@file2.txt'</span> <span class="se">\</span>
  <span class="nt">-F</span> <span class="nv">person_id</span><span class="o">=</span>1
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /entity-files</code></p>
<p>Uploads files attached to the entity with the given id.</p>
<p>The file will display on the entity's profile, provided that the entity is not a person internal to the user's organization.</p>
<h3 id="path-parameters-3">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>file</td>
<td>File</td>
<td>false</td>
<td>A singular file to be uploaded, formatted as form data (multipart/form-data).</td>
</tr>
<tr>
<td>files</td>
<td>File[]</td>
<td>false</td>
<td>An array of files to be uploaded, formatted as form data (multipart/form-data).</td>
</tr>
<tr>
<td>person_id</td>
<td>integer</td>
<td>false</td>
<td>The unique identifier of the person object to attach the file(s) to.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>false</td>
<td>The unique identifier of the organization object to attach the file(s) to.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>false</td>
<td>The unique identifier of the opportunity object to attach the file(s) to.</td>
</tr>
</tbody></table>
<h3 id="returns-4">Returns</h3>
<p><code>{"success": true}</code></p>
<aside class="notice">
<h6>Notes</h6>
<ul>
<li>Files must be attached to a single entity, specified using one of the three entity ID parameters (<code>person_id</code>, <code>organization_id</code>, and <code>opportunity_id</code>).</li>
<li>At least one file must be uploaded using the <code>file</code> or <code>files</code> parameters.</li>
</ul>
</aside>
<h1 id="reminders">Reminders</h1>
<p>The reminders API allows you to manage reminders.</p>
<h2 id="the-reminder-resource">The Reminder Resource</h2>
<p>A reminder object contains <code>content</code>, which is a string containing the reminder content.
In addition, a person, organization or opportunity can be tagged to the reminder.</p>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15326</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-11-18T14:34:53.218-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reply email to Alice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-18T14:34:53.217-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reset_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reminder_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"john@affinity.co"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"john@affinity.co"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"completer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"yen@alice.com"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"organization"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"opportunity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the reminder object.</td>
</tr>
<tr>
<td>creator</td>
<td>object</td>
<td>The person object who created the reminder.</td>
</tr>
<tr>
<td>person</td>
<td>object</td>
<td>The person object tagged in the reminder.</td>
</tr>
<tr>
<td>organization</td>
<td>object</td>
<td>The organization object tagged in the reminder.</td>
</tr>
<tr>
<td>opportunity</td>
<td>object</td>
<td>The opportunity object tagged in the reminder.</td>
</tr>
<tr>
<td>owner</td>
<td>object</td>
<td>The person object who was assigned to the reminder.</td>
</tr>
<tr>
<td>completer</td>
<td>object</td>
<td>The person object who completed the reminder.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>The type of reminder.</td>
</tr>
<tr>
<td>reset_type</td>
<td>integer</td>
<td>The reset type of the recurring reminder.</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Current status of the reminder.</td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>The time when the reminder was created.</td>
</tr>
<tr>
<td>contect</td>
<td>string</td>
<td>The string containing the content of the reminder.</td>
</tr>
<tr>
<td>due_date</td>
<td>datetime</td>
<td>The due date of the reminder.</td>
</tr>
<tr>
<td>completed_at</td>
<td>datetime</td>
<td>The time when the reminder was completed.</td>
</tr>
<tr>
<td>reminder_days</td>
<td>integer</td>
<td>When a recurring reminder is completed or reset, the number of days before the reminder is due again.</td>
</tr>
</tbody></table>
<h3 id="reminder-types">Reminder Types</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>One-time</td>
<td>0</td>
<td>Type specifying a one time reminder.</td>
</tr>
<tr>
<td>Recurring</td>
<td>1</td>
<td>Type specifying a recurring reminder.</td>
</tr>
</tbody></table>
<h3 id="reminder-reset-types">Reminder Reset Types</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Interaction</td>
<td>0</td>
<td>Recurring reminder that can be reset by email or meeting.</td>
</tr>
<tr>
<td>Email</td>
<td>1</td>
<td>Recurring reminder that can be reset by an email.</td>
</tr>
<tr>
<td>Meeting</td>
<td>2</td>
<td>Recurring reminder that can be reset by a meeting.</td>
</tr>
</tbody></table>
<h3 id="reminder-status-types">Reminder Status Types</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Completed</td>
<td>0</td>
<td>Reminder that has been marked as completed.</td>
</tr>
<tr>
<td>Active</td>
<td>1</td>
<td>Reminder that has not been completed and is not past due.</td>
</tr>
<tr>
<td>Overdue</td>
<td>2</td>
<td>Reminder that has not been completed and is past due.</td>
</tr>
</tbody></table>
<h2 id="get-all-reminders">Get All Reminders</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/reminders?page_size=2&amp;status=2"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"reminders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15562</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-11-22T09:31:52.415-08:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recurring reminder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-22T09:31:52.415-08:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reset_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reminder_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"john@affinity.co"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"john@affinity.co"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"completer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4904</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"organization"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"domain"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nl">"crunchbase_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"global"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"opportunity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15326</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-11-18T14:34:53.218-08:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reply email to Alice"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-18T14:34:53.217-08:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reset_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reminder_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"john@affinity.co"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"john@affinity.co"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"completer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"yen@alice.com"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"organization"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"opportunity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"next_page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJwYXJhbXMiOnsiY29tcGxldGVyX2lkIjpudWxsLCJvd25lcl9pZCI6bnVsbCwiY3JlYXRvcl9"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /reminders</code></p>
<p>Returns all reminders that meet the query parameters. </p>
<h3 id="query-parameters">Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>person_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents a Person that was directly attached to the retrieved reminders.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an Organization that was directly attached to the retrieved reminders.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an Opportunity that was directly attached to the retrieved reminders.</td>
</tr>
<tr>
<td>creator_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an internal person whose created reminders should be retrieved.</td>
</tr>
<tr>
<td>owner_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an internal person that was assigned to the retrieved reminders.</td>
</tr>
<tr>
<td>completer_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an internal person whose completed reminders should be retrieved.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>false</td>
<td>The type of reminders to be retrieved.</td>
</tr>
<tr>
<td>reset_type</td>
<td>integer</td>
<td>false</td>
<td>The reset type of reminders to be retrieved. Required when <code>type == 1</code>.</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>false</td>
<td>The status of reminders to be retrieved.</td>
</tr>
<tr>
<td>due_before</td>
<td>string</td>
<td>false</td>
<td>A string (formatted according to <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) representing the date that reminders to be retrieved are due before.</td>
</tr>
<tr>
<td>due_after</td>
<td>string</td>
<td>false</td>
<td>A string (formatted according to <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) representing the date that reminders to be retrieved are due after.</td>
</tr>
<tr>
<td>page_size</td>
<td>number</td>
<td>false</td>
<td>How many results to return per page. (Default is the maximum value of 500.)</td>
</tr>
<tr>
<td>page_token</td>
<td>string</td>
<td>false</td>
<td>The <code>next_page_token</code> from the previous response required to retrieve the next page of results.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>An array of all the reminders filtered by query parameters. <code>next_page_token</code> includes a
token to be sent along with the next request as the <code>page_token</code> parameter to fetch
the next page of results.</p>
<h2 id="get-a-specific-reminder">Get a Specific Reminder</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Returns the reminder with the specified `reminder_id`</span>
curl <span class="s2">"https://api.affinity.co/reminders/15326"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15326</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-11-18T14:34:53.218-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reply email to Alice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-18T14:34:53.217-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reset_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reminder_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"john@affinity.co"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"john@affinity.co"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"completer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"yen@alice.com"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"organization"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"opportunity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /reminders/{reminder_id}</code></p>
<p>Gets the details for a specific reminder given the existing reminder id.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reminder_id</td>
<td>integer</td>
<td>true</td>
<td>The unique identifier of the reminder object to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The details of the reminder corresponding to the reminder ID specified in the path
parameter. An appropriate error is returned if an invalid reminder ID is supplied.</p>
<h2 id="create-a-new-reminder">Create a New Reminder</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/reminders"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"owner_id": 443, "person_id": 2021, "type": 0, "due_date": "2021-11-30", "content": "Create reminder from external API."}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15385</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-01T09:36:07.316-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Create reminder from external API"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-11-30T00:00:00.000-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reset_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reminder_days"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"john@affinity.co"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"john@affinity.co"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"completer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"yen@alice.com"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"organization"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"opportunity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /reminders</code></p>
<p>Creates a new reminder with the supplied parameters.</p>
<h3 id="path-parameters-2">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>owner_id</td>
<td>integer</td>
<td>true</td>
<td>A unique identifier that represents an internal person that is assigned to the reminder.</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>false</td>
<td>The string containing the content of the new reminder.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>true</td>
<td>The type of reminder to be created.</td>
</tr>
<tr>
<td>reset_type</td>
<td>integer</td>
<td>false</td>
<td>The reset type of reminder to be created. Required when <code>type == 1</code>.</td>
</tr>
<tr>
<td>person_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents a Person that is tagged in the reminder to be created.</td>
</tr>
<tr>
<td>organization_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an Organization that is tagged in the reminder to be created.</td>
</tr>
<tr>
<td>opportunity_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an Opportunity that is tagged in the reminder to be created.</td>
</tr>
<tr>
<td>due_date</td>
<td>string</td>
<td>false</td>
<td>A string (formatted according to <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) representing the due date of the reminder to be created. Required when <code>type == 0</code>.</td>
</tr>
<tr>
<td>reminder_days</td>
<td>integer</td>
<td>false</td>
<td>When a recurring reminder is completed or reset, the number of days before the reminder is due again. Required when <code>type == 1</code>.</td>
</tr>
<tr>
<td>is_completed</td>
<td>integer</td>
<td>false</td>
<td>Indicator if the reminder has been completed.</td>
</tr>
</tbody></table>
<p>Note that at most one of <code>person_id</code>, <code>organization_id</code> or <code>opportunity_id</code> can be specified.</p>
<h3 id="returns-3">Returns</h3>
<p>The reminder created through this request.</p>
<aside class="notice">
<h6>Note</h6>
<p>When creating a reminder using the API, the user corresponding to the API token will be the creator by default.</p>
</aside>
<h2 id="update-a-reminder">Update a Reminder</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PUT <span class="s2">"https://api.affinity.co/reminders/15385"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"type": 1, "reset_type": 0, "reminder_days": 30}'</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">15385</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-01T09:36:07.316-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Create reminder from external API"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-11-30T00:00:00.000-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reset_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reminder_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"john@affinity.co"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"john@affinity.co"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"completer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yen"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yen@alice.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"yen@alice.com"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"organization"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"opportunity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>PUT /reminders/{reminder_id}</code></p>
<p>Updates the content of an existing reminder with <code>reminder_id</code> with the supplied parameters.</p>
<h3 id="path-parameters-3">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reminder_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the reminder to be updated.</td>
</tr>
</tbody></table>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>owner_id</td>
<td>integer</td>
<td>false</td>
<td>A unique identifier that represents an internal person that is assigned to the reminder.</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>false</td>
<td>The string containing the content of the new reminder.</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>false</td>
<td>The type of reminder to be updated.</td>
</tr>
<tr>
<td>reset_type</td>
<td>integer</td>
<td>false</td>
<td>The reset type of reminder to be updated. Required when <code>type == 1</code>.</td>
</tr>
<tr>
<td>due_date</td>
<td>string</td>
<td>false</td>
<td>A string (formatted according to <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) representing the due date of the reminder to be updated. Required when <code>type == 0</code>.</td>
</tr>
<tr>
<td>reminder_days</td>
<td>integer</td>
<td>false</td>
<td>When a recurring reminder is completed or reset, the number of days before the reminder is due again. Required when <code>type == 1</code>.</td>
</tr>
<tr>
<td>is_completed</td>
<td>integer</td>
<td>false</td>
<td>Indicator if the reminder has been completed.</td>
</tr>
</tbody></table>
<h3 id="returns-4">Returns</h3>
<p>The reminder object that was just updated through this request.</p>
<h2 id="delete-a-reminder">Delete a Reminder</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/reminders/22984"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-X</span> <span class="s2">"DELETE"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /reminders/{reminder_id}</code></p>
<p>Deletes the reminder with the specified <code>reminder_id</code>.</p>
<h3 id="path-parameters-4">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reminder_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the reminder to be deleted.</td>
</tr>
</tbody></table>
<h3 id="returns-5">Returns</h3>
<p><code>{success: true}</code>.</p>
<h1 id="webhooks">Webhooks</h1>
<p>Webhooks allow you to be notified of events that happen on your Affinity instance. For example, your app can be notified when a list is created, a field value is updated, a person is deleted, and more. These events will fire immediately after the corresponding action takes place.</p>
<h2 id="the-webhook-subscription-resource">The Webhook Subscription Resource</h2>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"list.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"person.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"opportunity.created"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">5678</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Each webhook subscription object has a unique <code>id</code>. It also has a <code>webhook_url</code> and <code>subscriptions</code> associated with it.</p>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The unique identifier of the webhook subscription object.</td>
</tr>
<tr>
<td>webhook_url</td>
<td>string</td>
<td>The URL to which the webhooks are sent to.</td>
</tr>
<tr>
<td>subscriptions</td>
<td>string[]</td>
<td>An array of webhook events that are enabled for that endpoint. An empty array indicates subscription to all webhook events. See <a href="#supported-webhook-events">below</a> for the complete list of supported webhook events.</td>
</tr>
<tr>
<td>disabled</td>
<td>boolean</td>
<td>If the subscription is disabled, this is true. Otherwise, this is false by default. A subscription may be disabled manually via API or automatically if we are not able to process it.</td>
</tr>
<tr>
<td>created_by</td>
<td>integer</td>
<td>The unique identifier of the user who created the webhook subscription.</td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Note</h6>
<p>
    If webhooks cannot be delivered as the result of a timeout or a connectivity issue with the webhook URL, Affinity will retry the delivery with an exponential backoff for up to 10 hours. If Affinity is still unable to deliver webhooks at that point, the webhook subscription will be disabled and an email notification will be sent to the Affinity admin and technical contacts.
  </p>
</aside>
<h2 id="supported-webhook-events">Supported Webhook Events</h2>
<blockquote>
<p>Example Responses</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list_entry.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"body"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">388</span><span class="p">,</span><span class="w">
    </span><span class="nl">"list_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38603</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38706</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-09-08T09:55:50.321-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70796737</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"primary_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"john@affinity.co"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"sent_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1631120151</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Object Type</th>
<th>Events</th>
</tr>
</thead><tbody>
<tr>
<td>List</td>
<td><code>list.created</code>, <code>list.updated</code>, <code>list.deleted</code></td>
</tr>
<tr>
<td>List Entry</td>
<td><code>list_entry.created</code>, <code>list_entry.deleted</code></td>
</tr>
<tr>
<td>Note</td>
<td><code>note.created</code>, <code>note.updated</code>, <code>note.deleted</code></td>
</tr>
<tr>
<td>Field</td>
<td><code>field.created</code>, <code>field.updated</code>, <code>field.deleted</code></td>
</tr>
<tr>
<td>Field Value</td>
<td><code>field_value.created</code>, <code>field_value.updated</code>, <code>field_value.deleted</code></td>
</tr>
<tr>
<td>Person</td>
<td><code>person.created</code>, <code>person.updated</code>, <code>person.deleted</code></td>
</tr>
<tr>
<td>Organization</td>
<td><code>organization.created</code>, <code>organization.updated</code>, <code>organization.deleted</code>, <code>organization.merged</code></td>
</tr>
<tr>
<td>Opportunity</td>
<td><code>opportunity.created</code>, <code>opportunity.updated</code>, <code>opportunity.deleted</code></td>
</tr>
<tr>
<td>Entity File</td>
<td><code>file.created</code>, <code>file.deleted</code></td>
</tr>
<tr>
<td>Reminder</td>
<td><code>reminder.created</code>, <code>reminder.updated</code>, <code>reminder.deleted</code></td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Note</h6>
<ul>
<li>The Field Value webhook events do not include enrichment events; updates to enrichment field values are not supported.</li>
<li>Examples of our webhook responses can be found in the <a href="https://support.affinity.co/s/article/Types-of-webhooks-available-with-Affinity-s-API">Help Center</a>.</li>
<li>Field webhooks are not fired for Crunchbase fields.</li>
<li>Field value webhooks are fired with `null` values for Crunchbase fields.</li>
</ul>
</aside>
<h2 id="get-all-webhook-subscriptions">Get All Webhook Subscriptions</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/webhook"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook-create"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"list.created"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"person.created"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"organization.created"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"opportunity.created"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">5678</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
    </span><span class="nl">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook-all"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">5678</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /webhook</code></p>
<p>Returns all of your organization's webhook subscriptions.</p>
<h2 id="get-a-specific-webhook-subscription">Get a Specific Webhook Subscription</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/webhook/1234"</span> <span class="nt">-u</span> :<span class="nv">$APIKEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"list.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"person.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization.created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"opportunity.created"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">5678</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /webhook/{webhook_subscription_id}</code></p>
<p>Gets the details for a specific webhook subscription given the specified <code>webhook_subscription_id</code>.</p>
<h3 id="path-parameters">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>webhook_subscription_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the webhook subscription that needs to be retrieved.</td>
</tr>
</tbody></table>
<h3 id="returns">Returns</h3>
<p>The webhook subscription object corresponding to the <code>webhook_subscription_id</code>.</p>
<h2 id="create-a-new-webhook-subscription">Create a New Webhook Subscription</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s2">"https://api.affinity.co/webhook/subscribe"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">webhook_url</span><span class="o">=</span><span class="s2">"https://hooks.example.com/webhook"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">5678</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /webhook/subscribe</code></p>
<p>Creates a new webhook subscription with the supplied parameters. If the endpoint returns an invalid response, the webhook creation will fail.</p>
<h3 id="payload-parameters">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>webhook_url</td>
<td>string</td>
<td>true</td>
<td>The URL to which the webhooks will be sent to.</td>
</tr>
<tr>
<td>subscriptions</td>
<td>string[]</td>
<td>false</td>
<td>An array of webhook events that will be enabled for that endpoint. Leave out this parameter or pass an empty array to subscribe to all webhook events. You can find the complete list of supported webhook events <a href="#supported-webhook-events">here</a>.</td>
</tr>
</tbody></table>
<h3 id="returns-2">Returns</h3>
<p>The webhook subscription object that was just created from this successful request per organization.</p>
<aside class="notice">
<h6>Note</h6>
<p>There is a limit of three webhook subscriptions per Affinity instance.</p>
</aside>
<h2 id="update-a-webhook-subscription">Update a Webhook Subscription</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/webhook/1234"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">webhook_url</span><span class="o">=</span><span class="s2">"https://hooks.example.com/webhook"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="nv">disabled</span><span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  <span class="nt">-X</span> <span class="s2">"PUT"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"webhook_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://hooks.example.com/webhook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">5678</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>PUT /webhook/{webhook_subscription_id}</code></p>
<p>Update webhook subscription with the supplied parameters. A webhook subscription can only be updated by its creator. If the endpoint returns an invalid response, the webhook update will fail.</p>
<h3 id="payload-parameters-2">Payload Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>webhook_url</td>
<td>string</td>
<td>false</td>
<td>The URL to which the webhooks will be sent to.</td>
</tr>
<tr>
<td>subscriptions</td>
<td>string[]</td>
<td>false</td>
<td>An array of webhook events that will be enabled for that endpoint. Leave out this parameter or pass an empty array to subscribe to all webhook events. You can find the complete list of supported webhook events <a href="#supported-webhook-events">here</a>.</td>
</tr>
<tr>
<td>disabled</td>
<td>boolean</td>
<td>false</td>
<td>Change the status of a subscription. To enable a subscription, provide the value as <code>false</code>. Otherwise, provide the value as <code>true.</code></td>
</tr>
</tbody></table>
<h3 id="returns-3">Returns</h3>
<p>The webhook subscription object that was just updated from this successful request.</p>
<h2 id="delete-a-specific-webhook-subscription">Delete a Specific Webhook Subscription</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/webhook/1234"</span> <span class="se">\</span>
  <span class="nt">-u</span> :<span class="nv">$APIKEY</span> <span class="se">\</span>
  <span class="nt">-X</span> <span class="s2">"DELETE"</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /webhook/{webhook_subscription_id}</code></p>
<p>Deletes a webhook subscription with a specified <code>webhook_subscription_id</code>. A webhook subscription can only be deleted by its creator, or an admin.</p>
<h3 id="path-parameters-2">Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>webhook_subscription_id</td>
<td>integer</td>
<td>true</td>
<td>The unique ID of the webhook subscription that needs to be deleted.</td>
</tr>
</tbody></table>
<h3 id="returns-4">Returns</h3>
<p><code>{success: true}</code>.</p>
<h1 id="whoami">Whoami</h1>
<p>The Whoami API gives the user metadata about the user's authentication and Affinity instance information, including the instance subdomain. This can be used for linking back to the user's Affinity instance.</p>
<h2 id="the-whoami-resource">The Whoami Resource</h2>
<p>Querying the Whoami endpoint will give information about the user, Affinity instance, and authentication method.</p>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subdomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"affinity"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"grant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"external_api"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-14T09:00:00.000-05:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tenant</td>
<td>object</td>
<td>Information about the Affinity instance the user belongs to.</td>
</tr>
<tr>
<td>user</td>
<td>object</td>
<td>Data about the user whose api key was used for the endpoint.</td>
</tr>
<tr>
<td>grant</td>
<td>object</td>
<td>Data about the type of authentication and metadata about the api key.</td>
</tr>
</tbody></table>
<h2 id="get-whoami">Get Whoami</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/auth/whoami"</span> <span class="nt">-u</span> :<span class="nv">$API_KEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affinity"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subdomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"affinity"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@affinity.co"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"grant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api_key"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"external_api"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-14T09:00:00.000-05:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /auth/whoami</code></p>
<p>Gets information about the user sending the request, and their affiliate company.</p>
<p>There are no query or path parameters for this method. The information needed is contained within the API key.</p>
<h3 id="returns">Returns</h3>
<p>JSON body of data including tenant, user, and grant information.</p>
<h1 id="rate-limit">Rate Limit</h1>
<p>The rate limit endpoint allows you to see your monthly account-level and per minute user-level API limits and usage.
The monthly account-level call limit resets at the end of each calendar month.</p>
<h2 id="the-rate-limit-resource">The Rate Limit Resource</h2>
<p>The rate limit resource includes information about account (AKA organization)-level and API key-level rate limits and usage.</p>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"org_monthly"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">40000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remaining"</span><span class="p">:</span><span class="w"> </span><span class="mi">39993</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reset"</span><span class="p">:</span><span class="w"> </span><span class="mi">2124845</span><span class="p">,</span><span class="w">
            </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"api_key_per_minute"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">900</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remaining"</span><span class="p">:</span><span class="w"> </span><span class="mi">900</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rate</td>
<td>object</td>
<td>Type of rate limit.</td>
</tr>
<tr>
<td>org_monthly</td>
<td>object</td>
<td>Monthly rate limit per organization.</td>
</tr>
<tr>
<td>api_key_per_minute</td>
<td>object</td>
<td>Per minute rate limit per API key.</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>The maximum number of calls for each period.</td>
</tr>
<tr>
<td>remaining</td>
<td>integer</td>
<td>The number of calls remaining before reset.</td>
</tr>
<tr>
<td>reset</td>
<td>integer</td>
<td>Time in seconds until call count resets.</td>
</tr>
<tr>
<td>used</td>
<td>integer</td>
<td>The number of calls that have been used.</td>
</tr>
</tbody></table>
<aside class="notice">
<h6>Note</h6>
<ul>
<li><code>/rate-limit</code> and <code>/auth/whoami</code> endpoints are exempt from organization-level monthly rate limits.</li>
</ul>
</aside>
<h2 id="get-rate-limit-information">Get Rate Limit Information</h2>
<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.affinity.co/rate-limit"</span> <span class="nt">-u</span> :<span class="nv">$API_KEY</span>
</code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"org_monthly"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">40000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remaining"</span><span class="p">:</span><span class="w"> </span><span class="mi">39993</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reset"</span><span class="p">:</span><span class="w"> </span><span class="mi">2124845</span><span class="p">,</span><span class="w">
            </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"api_key_per_minute"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">900</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remaining"</span><span class="p">:</span><span class="w"> </span><span class="mi">900</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /rate-limit</code></p>
<p>Querying the rate limit endpoint will yield information about account (AKA organization)-level and API key-level rate limits and usage.</p>
<h3 id="returns">Returns</h3>
<p>The rate limit resource, a JSON body of data including limits, calls remaining, seconds until reset and call count.</p>
<h1 id="spacer">Spacer</h1><h1 id="changelog">Changelog</h1><h2 id="2025-11-05">2025-11-05</h2>
<ul>
<li>Added support for bearer authentication</li>
</ul>
<h2 id="2024-07-17">2024-07-17</h2>
<ul>
<li>At least one associated person, company, opportunity, or parent note must be specified when <a href="#create-a-new-note">creating a note</a>.</li>
</ul>
<h2 id="2024-05-01">2024-05-01</h2>
<ul>
<li><code>/interactions</code> now restricts the duration between <code>start_time</code> and <code>end_time</code> to a maximum of one
year</li>
<li><code>/interactions</code> now ensures that the provided <code>start_time</code> is before the provided <code>end_time</code>
year</li>
<li><code>/interactions</code> now has a maximum <code>page_size</code> of 100.</li>
</ul>
<h2 id="2023-08-07">2023-08-07</h2>
<ul>
<li>Added <code>associated_person_ids</code>, <code>interaction_person_ids</code>, <code>interaction_id</code>, and <code>interaction_type</code> to <a href="#the-note-resource">the note resource</a>. The <code>person_ids</code>, <code>associated_person_ids</code>, and <code>interaction_person_ids</code> properties on a note should now reflect the various ways a note can be tied to a person.</li>
</ul>
<h2 id="2023-07-27">2023-07-27</h2>
<ul>
<li>datetime values in webhook bodies and API responses are ISO 8601-formatted date strings. For example: <code>"2023-06-21T16:00:28.315-07:00"</code>.</li>
</ul>
<h2 id="2023-07-17">2023-07-17</h2>
<ul>
<li>Add information about <a href="#the-note-resource">notes with <code>type</code> 1</a>.</li>
</ul>
<h2 id="2023-07-03">2023-07-03</h2>
<ul>
<li>Updated API access information for Professional tier customers.</li>
</ul>
<h2 id="2023-06-13">2023-06-13</h2>
<ul>
<li>The <code>created_at</code> parameter on the <a href="#create-a-new-note">POST endpoint for notes</a> no longer accepts timestamps in the future.</li>
</ul>
<h2 id="2023-05-17">2023-05-17</h2>
<ul>
<li>Added <a href="#requests-amp-responses">403 error code</a> for permissions-related errors.</li>
</ul>
<h2 id="2023-03-27">2023-03-27</h2>
<ul>
<li>Added the ability to <a href="#create-a-new-list">create a List</a>.</li>
<li>Updated <a href="#useful-resources">Postman collection</a> to help developers get started.</li>
<li>Added <a href="#formatting-content-as-html">documentation</a> on formatting options for HTML notes.</li>
</ul>
<h2 id="2023-03-09">2023-03-09</h2>
<ul>
<li>Account for chat messages when returning interaction info on the GET endpoints for <a href="#persons">Persons</a> and <a href="#organizations">Organizations</a>.</li>
</ul>
<h2 id="2023-02-28">2023-02-28</h2>
<ul>
<li>Added the ability to <a href="#create-a-new-note">create HTML notes</a>.</li>
<li>Added the ability to <a href="#create-a-new-note">create a note within a thread</a>.</li>
</ul>
<h2 id="2023-02-10">2023-02-10</h2>
<ul>
<li>Added <a href="#rate-limit-headers">Rate Limit Headers</a> section to the <a href="#rate-limits">Rate Limits</a> documentation.</li>
</ul>
<h2 id="2023-02-08">2023-02-08</h2>
<ul>
<li>Added <code>created_at</code> and <code>updated_at</code> timestamps to <a href="#field-values">Field Values</a>.</li>
<li>Added an <code>updated_at</code> timestamp to <a href="#notes">Notes</a>.</li>
</ul>
<h2 id="2023-02-07">2023-02-07</h2>
<ul>
<li>Added the ability to retrieve Current Organization column data on <a href="#persons">Persons</a>.</li>
</ul>
<h2 id="2022-09-06">2022-09-06</h2>
<ul>
<li>Added <a href="#rate-limit">Rate Limit</a> endpoint and documentation. Moved from a daily to a per minute per user limit. Monthly per account limits remain the same.</li>
</ul>
<h2 id="2022-09-02">2022-09-02</h2>
<ul>
<li>Added <code>entity_type</code> and <code>exclude_dropdown_options</code> documentation to <a href="#fields">Fields</a>.</li>
</ul>
<h2 id="2022-05-05">2022-05-05</h2>
<ul>
<li>Added <code>enrichment_source</code> documentation to <a href="#fields">Fields</a>.</li>
</ul>
<h2 id="2022-04-11">2022-04-11</h2>
<ul>
<li>Added <a href="#partner-with-us">Partner With Us</a> section.</li>
</ul>
<h2 id="2022-03-21">2022-03-21</h2>
<ul>
<li>Added <code>opportunity_ids</code> fields to person and organization responses.</li>
</ul>
<h2 id="2022-02-23">2022-02-23</h2>
<ul>
<li>Added <a href="#interactions">Interactions API</a> documentation.</li>
</ul>
<h2 id="2022-02-17">2022-02-17</h2>
<ul>
<li>Updated <a href="#get-all-files">GET entity files</a> and entity file webhooks to exclude non-user uploaded files.</li>
</ul>
<h2 id="2022-02-03">2022-02-03</h2>
<ul>
<li>Added <a href="#whoami">Whoami API</a> documentation.</li>
</ul>
<h2 id="2022-02-01">2022-02-01</h2>
<ul>
<li>Added <a href="#reminders">Reminder API</a> documentation.</li>
<li>Added <a href="/#webhooks">Reminder webhook</a> events.</li>
</ul>
<h2 id="2022-01-28">2022-01-28</h2>
<ul>
<li>Added <code>organization.merged</code> event to <a href="#webhooks">Webhooks</a>.</li>
<li>Added <code>mentioned_person_ids</code> and <code>is_meeting</code> fields to <a href="#notes">Notes</a>.</li>
</ul>
<h2 id="2021-11-22">2021-11-22</h2>
<ul>
<li>Added link out to <a href="https://support.affinity.co/s/article/Types-of-webhooks-available-with-Affinity-s-API">Help Center</a> for webhook responses</li>
</ul>
<h2 id="2021-11-19">2021-11-19</h2>
<ul>
<li>Updated <a href="#get-field-values-changes">GET field values changes</a> to be filterable by <code>action_type</code>, <code>person</code>, <code>organization</code>, <code>opportunity</code> or <code>list_entry</code> by passing in the appropriate parameter.</li>
</ul>
<h2 id="2021-10-15">2021-10-15</h2>
<ul>
<li>Minor content updates</li>
</ul>
<h2 id="2021-10-04">2021-10-04</h2>
<ul>
<li>Updates to Example Responses.</li>
<li>Responsive tweaks.</li>
</ul>
<h2 id="2021-09-07">2021-09-07</h2>
<ul>
<li>Revamped API documentation

<ul>
<li>Added <a href="#common-use-cases">Common Use Cases</a> section.</li>
<li>Added <a href="#rate-limits">Rate Limits</a> section.</li>
<li>Updates to <code>PUT</code> and <code>POST</code> cURL examples.</li>
</ul></li>
</ul>
<h2 id="2021-08-18">2021-08-18</h2>
<ul>
<li>Fixed typo in the API docs where <code>entity_id</code> and <code>creator_id</code> was in path paramaters when they should be inside the payload parameters for <a href="#create-a-new-list-entry">Create a New List Entry</a>.</li>
</ul>
<h2 id="2021-07-28">2021-07-28</h2>
<ul>
<li>Fixed typo in Relationship Strength section.</li>
</ul>
<h2 id="2021-05-05">2021-05-05</h2>
<ul>
<li>Updated API rate limit information.</li>
</ul>
</div>
<div class="dark-box">
</div>
</div>
</body>